import{a as Se,b as Ce}from"./chunk-CNAZPYPR.js";import"./chunk-CYBTF2RE.js";import"./chunk-W7TJHXMM.js";import"./chunk-EQMPRG6V.js";import"./chunk-36JN3LZY.js";import"./chunk-M763EXIE.js";import{b as re,c as S,e as te,f as ae,g as N,h as oe,i as C,j as se,k as ne,l as le,m as de,n as ce,o as me,p as ue,q as pe,t as he,u as _e,v as fe,w as ve,x as ge,y as be}from"./chunk-ZPMKEMCQ.js";import"./chunk-QE2BREUU.js";import"./chunk-JPTHL2WT.js";import{ea as ie}from"./chunk-VAG7FTYF.js";import{C as ee,d as Q,e as Y,j as Z,l as J,t as K,v as $,y as Ee,z as R}from"./chunk-FIATBDAH.js";import{Ca as d,Gb as F,Jb as I,Lb as n,Mb as b,Na as T,Nb as P,Ob as W,Qb as E,Rb as D,Sa as U,Sb as x,U as p,V as h,Wb as y,Ya as g,cc as q,db as V,dc as H,eb as z,gc as X,ib as _,jb as a,kb as s,lb as A,sb as j,wb as f,xb as m,za as k}from"./chunk-XJSKPFVT.js";import{f as je,g as O}from"./chunk-OXVY4BEJ.js";var v=je(Ee());var De=()=>({width:"650px"}),xe=()=>({height:"600px",overflow:"auto"}),L=()=>({width:"450px"}),G=()=>({width:"500px"});function Ae(o,u){o&1&&(a(0,"div",24),n(1," La identidad debe tener 13 d\xEDgitos num\xE9ricos. "),s())}function we(o,u){o&1&&(a(0,"div",20)(1,"label",17),n(2,"Cargando..."),s(),a(3,"div",25),A(4,"div",26),s()())}function ye(o,u){if(o&1){let t=j();a(0,"div",3)(1,"div",10)(2,"div",11)(3,"div",12)(4,"div",13)(5,"h4",14),n(6,"Modificar Perfil"),s(),a(7,"form",15,0),f("submit",function(){p(t);let i=m();return h(i.buscarporIdentidad())}),a(9,"div",16)(10,"label",17),n(11,"Identidad"),s(),a(12,"input",18),x("ngModelChange",function(i){p(t);let r=m();return D(r.consulta.identidad,i)||(r.consulta.identidad=i),h(i)}),s(),g(13,Ae,2,0,"div",19),s(),a(14,"div",20)(15,"label",17),n(16,"Buscar"),s(),a(17,"button",21),A(18,"i",22),s()(),g(19,we,5,0,"div",23),s()()()()()()}if(o&2){let t=F(8),e=m();d(12),E("ngModel",e.consulta.identidad),d(),_("ngIf",t.submitted&&!t.form.valid),d(4),_("disabled",!t.valid),d(2),_("ngIf",e.banderadeCarga===1)}}function Ie(o,u){if(o&1&&A(0,"img",64),o&2){let t=m(3);_("src",t._DatospersonalesService.url2+"sacarfoto/"+(t.objetoConsultado==null?null:t.objetoConsultado.foto),k)}}function Pe(o,u){o&1&&A(0,"img",65)}function Me(o,u){o&1&&(a(0,"span"),n(1,"S\xED"),s())}function Ne(o,u){o&1&&(a(0,"span"),n(1,"No"),s())}function Oe(o,u){if(o&1&&(a(0,"span"),n(1),s()),o&2){let t=m(3);d(),P(" ",t.objetoConsultado==null?null:t.objetoConsultado.antiguedad_GradoActual," a\xF1os ")}}function Te(o,u){if(o&1&&(a(0,"span"),n(1),s()),o&2){let t=m(3);d(),P(" ",t.objetoConsultado==null?null:t.objetoConsultado.antiguedad_GradoActual," a\xF1o ")}}function Be(o,u){o&1&&(a(0,"div",43)(1,"div",66)(2,"span",67),n(3,"Activo"),s(),a(4,"strong"),n(5,"NO"),s()()())}function Fe(o,u){if(o&1&&(a(0,"div",43)(1,"div",68)(2,"span",67),n(3,"Tipo de baja"),s(),a(4,"strong"),n(5),s()()()),o&2){let t=m(3);d(5),b(t.objetoConsultado.nombreBaja)}}function Le(o,u){if(o&1&&(a(0,"div",43)(1,"div",68)(2,"span",67),n(3,"Fecha ingreso"),s(),a(4,"strong"),n(5),s()()()),o&2){let t=m(3);d(5),b(t.objetoConsultado.FechaIngreso)}}function ke(o,u){if(o&1&&(a(0,"div",43)(1,"div",68)(2,"span",67),n(3,"Fecha baja"),s(),a(4,"strong"),n(5),s()()()),o&2){let t=m(3);d(5),b(t.objetoConsultado.FechaBaja)}}function Ve(o,u){if(o&1&&(a(0,"div",43)(1,"div",68)(2,"span",67),n(3,"Sueldo"),s(),a(4,"strong"),n(5),s()()()),o&2){let t=m(3);d(5),b(t.objetoConsultado.SueldoaPagar)}}function ze(o,u){o&1&&(a(0,"div",43)(1,"div",69)(2,"span",70),n(3,"Activo"),s(),a(4,"strong",71),n(5,"SI"),s()()())}function Ge(o,u){o&1&&(a(0,"span",79),n(1,"S\xED"),s())}function Ue(o,u){o&1&&(a(0,"span",80),n(1,"No"),s())}function We(o,u){if(o&1){let t=j();a(0,"tr")(1,"td"),n(2),s(),a(3,"td"),n(4),s(),a(5,"td"),n(6),s(),a(7,"td"),n(8),s(),a(9,"td"),g(10,Ge,2,0,"span",72)(11,Ue,2,0,"span",73),s(),a(12,"td"),n(13),s(),a(14,"td")(15,"div",74)(16,"button",75),f("click",function(){let i=p(t).$implicit,r=m(3);return r.ascesoseleccionado(i),h(r.abrirModalModificarAscenso())}),A(17,"i",76),s(),a(18,"button",77),f("click",function(){let i=p(t).$implicit,r=m(3);return r.ascesoseleccionado(i),h(r.abrirModalEliminarAscenso())}),A(19,"i",78),s()()()()}if(o&2){let t=u.$implicit,e=u.index;d(2),b(e+1),d(2),b(t.nombre),d(2),b(t.numeroAcuerdo),d(2),b(t.nombre_grado),d(2),_("ngIf",t.activo===1),d(),_("ngIf",t.activo!==1),d(2),b(t==null?null:t.fechaformatAscenso)}}function qe(o,u){if(o&1){let t=j();a(0,"div",4)(1,"div",28)(2,"div",29)(3,"div",30)(4,"button",31),f("click",function(){p(t);let i=m(2);return h(i.atras(2))}),A(5,"i",32),a(6,"span"),n(7,"Regresar"),s()()(),a(8,"div",33)(9,"div",34)(10,"div",35)(11,"div",36),g(12,Ie,1,1,"img",37)(13,Pe,1,0,"ng-template",null,1,X),s()()(),a(15,"div",38)(16,"div",35)(17,"div",39)(18,"h6",40),n(19,"Datos generales del personal"),s()(),a(20,"div",41)(21,"div",42)(22,"div",43)(23,"div",44),f("click",function(){p(t);let i=m(2);return h(i.cambiarnombres())}),a(24,"span",45),n(25,"Nombre"),s(),a(26,"strong",46),n(27),s()()(),a(28,"div",43)(29,"div",44),f("click",function(){p(t);let i=m(2);return h(i.cambiarapellidos())}),a(30,"span",45),n(31,"Apellido"),s(),a(32,"strong",46),n(33),s()()(),a(34,"div",43)(35,"div",44),f("click",function(){p(t);let i=m(2);return h(i.Actualizaserie())}),a(36,"span",45),n(37,"C\xF3digo"),s(),a(38,"strong",46),n(39),s()()(),a(40,"div",43)(41,"div",44),f("click",function(){p(t);let i=m(2);return h(i.ActualizarEstadoCivil())}),a(42,"span",45),n(43,"Estado Civil"),s(),a(44,"strong",46),n(45),s()()(),a(46,"div",43)(47,"div",44),f("click",function(){p(t);let i=m(2);return h(i.abrirModalCambiarIdentidad())}),a(48,"span",45),n(49,"Identidad"),s(),a(50,"strong",46),n(51),s()()(),a(52,"div",43)(53,"div",47)(54,"span",45),n(55,"Fuerza"),s(),a(56,"strong",46),n(57),s()()(),a(58,"div",43)(59,"div",44),f("click",function(){p(t);let i=m(2);return h(i.cambiarnumeroAcuerdo())}),a(60,"span",45),n(61,"N\xFAm. Acuerdo"),s(),a(62,"strong",46),n(63),s()()(),a(64,"div",43)(65,"div",44),f("click",function(){p(t);let i=m(2);return h(i.ActualizarReligion())}),a(66,"span",45),n(67,"Religi\xF3n"),s(),a(68,"strong",46),n(69),s()()(),a(70,"div",43)(71,"div",44),f("click",function(){p(t);let i=m(2);return h(i.ActualizaGenero())}),a(72,"span",45),n(73,"G\xE9nero"),s(),a(74,"strong",46),n(75),s()()(),a(76,"div",43)(77,"div",44),f("click",function(){p(t);let i=m(2);return h(i.ActualizartipoSangre())}),a(78,"span",45),n(79,"Tipo de sangre"),s(),a(80,"strong",46),n(81),s()()(),a(82,"div",43)(83,"div",44),f("click",function(){p(t);let i=m(2);return h(i.abrirModalCuentaBanco())}),a(84,"span",45),n(85,"Cuenta de banco"),s(),a(86,"strong",46),n(87),s()()(),a(88,"div",43)(89,"div",44),f("click",function(){p(t);let i=m(2);return h(i.ActualizaNumeropasaporte())}),a(90,"span",45),n(91,"N\xFAm. pasaporte"),s(),a(92,"strong",46),n(93),s()()(),a(94,"div",43)(95,"div",44),f("click",function(){p(t);let i=m(2);return h(i.actualizarCombatiente())}),a(96,"span",45),n(97,"Combatiente"),s(),a(98,"strong",46),g(99,Me,2,0,"span",48)(100,Ne,2,0,"span",48),s()()(),a(101,"div",43)(102,"div",47)(103,"span",45),n(104,"Grado/Rango actual"),s(),a(105,"strong",46),n(106),s()()(),a(107,"div",43)(108,"div",44),f("click",function(){p(t);let i=m(2);return i.sacarArmas(),h(i.abrirModalArma())}),a(109,"span",45),n(110,"Arma"),s(),a(111,"strong",46),n(112),s()()(),a(113,"div",43)(114,"div",44),f("click",function(){p(t);let i=m(2);return h(i.abrirModalFechaIngreso())}),a(115,"span",45),n(116,"Fecha ingreso"),s(),a(117,"strong",46),n(118),q(119,"date"),s()()(),a(120,"div",43)(121,"div",47)(122,"span",45),n(123,"Antig\xFCedad en el grado"),s(),a(124,"strong",46),g(125,Oe,2,1,"span",48)(126,Te,2,1,"span",48),s()()(),a(127,"div",43)(128,"div",44),f("click",function(){p(t);let i=m(2);return h(i.abrirModalFechaNacimiento())}),a(129,"span",45),n(130,"Fecha nacimiento"),s(),a(131,"strong",46),n(132),s()()(),a(133,"div",43)(134,"div",44),f("click",function(){p(t);let i=m(2);return h(i.abrirModalLugarNacimiento())}),a(135,"span",45),n(136,"Lugar nacimiento"),s(),a(137,"strong",46),n(138),s()()(),g(139,Be,6,0,"div",49)(140,Fe,6,1,"div",49)(141,Le,6,1,"div",49)(142,ke,6,1,"div",49)(143,Ve,6,1,"div",49)(144,ze,6,0,"div",49),s()()()()()()(),a(145,"div",50)(146,"div",51)(147,"div",52)(148,"h6",40),n(149,"Ascensos"),s(),a(150,"ul",53)(151,"li",54)(152,"a",55),n(153," Historial "),s()()()(),a(154,"div",41)(155,"div",56)(156,"table",57)(157,"thead",58)(158,"tr")(159,"th",59),n(160,"#"),s(),a(161,"th"),n(162,"Fuerza"),s(),a(163,"th"),n(164,"N\xFAmero de Acuerdo"),s(),a(165,"th"),n(166,"Grado"),s(),a(167,"th"),n(168,"Activo"),s(),a(169,"th"),n(170,"Fecha de Ascenso"),s(),a(171,"th",60),n(172,"Opciones"),s()()(),a(173,"tbody"),g(174,We,20,7,"tr",61),s(),a(175,"tfoot",62)(176,"tr"),A(177,"td",63),s()()()()()()()()}if(o&2){let t=F(14),e=m(2);d(12),_("ngIf",(e.objetoConsultado==null?null:e.objetoConsultado.foto)!==null)("ngIfElse",t),d(15),b(e.objetoConsultado==null?null:e.objetoConsultado.nombres),d(6),b(e.objetoConsultado==null?null:e.objetoConsultado.apellidos),d(6),W(" ",e.objetoConsultado==null?null:e.objetoConsultado.codigo," - ",e.objetoConsultado==null?null:e.objetoConsultado.numeroSerie," "),d(6),b(e.objetoConsultado==null?null:e.objetoConsultado.estado_civil),d(6),b(e.objetoConsultado==null?null:e.objetoConsultado.identidad),d(6),b(e.objetoConsultado==null?null:e.objetoConsultado.nombre),d(6),b(e.objetoConsultado==null?null:e.objetoConsultado.numeroAcuerdo),d(6),b(e.objetoConsultado==null?null:e.objetoConsultado.religion),d(6),b(e.objetoConsultado==null?null:e.objetoConsultado.sexo),d(6),b(e.objetoConsultado==null?null:e.objetoConsultado.tipo_sangre),d(6),b(e.objetoConsultado==null?null:e.objetoConsultado.cuenta_banco),d(6),b(e.objetoConsultado==null?null:e.objetoConsultado.numero_pasaporte),d(6),_("ngIf",(e.objetoConsultado==null?null:e.objetoConsultado.combatiente)===1),d(),_("ngIf",(e.objetoConsultado==null?null:e.objetoConsultado.combatiente)!==1),d(6),b(e.objetoConsultado==null?null:e.objetoConsultado.nombre_grado),d(6),b(e.armaobjetoConsultado==null?null:e.armaobjetoConsultado.NombreArma),d(6),b(H(119,31,e.objetoConsultado==null?null:e.objetoConsultado.fecha)),d(7),_("ngIf",(e.objetoConsultado==null?null:e.objetoConsultado.antiguedad_GradoActual)>=2),d(),_("ngIf",(e.objetoConsultado==null?null:e.objetoConsultado.antiguedad_GradoActual)<=1),d(6),b(e.objetoConsultado==null?null:e.objetoConsultado.fechaFormato),d(6),b(e.objetoConsultado==null?null:e.objetoConsultado.municipio),d(),_("ngIf",e.objetoConsultado.activo===2),d(),_("ngIf",e.objetoConsultado.activo===2),d(),_("ngIf",e.objetoConsultado.activo===2),d(),_("ngIf",e.objetoConsultado.activo===2),d(),_("ngIf",e.objetoConsultado.activo===2),d(),_("ngIf",e.objetoConsultado.activo===1),d(30),_("ngForOf",e.arregloAscensos)}}function He(o,u){if(o&1&&g(0,qe,178,33,"div",27),o&2){let t=m();_("ngIf",t.SegundaVentana===1)}}function Xe(o,u){o&1&&(a(0,"span"),n(1,"Cambiar foto"),s())}function Qe(o,u){if(o&1&&A(0,"img",88),o&2){let t=m(2);_("src",t.imgURL,k)}}function Ye(o,u){if(o&1){let t=j();a(0,"button",89),f("click",function(){p(t);let i=m(2);return i.verificarImagen(),h(i.displayCambiarFoto=!1)}),n(1," Guardar .. "),s()}}function Ze(o,u){if(o&1){let t=j();a(0,"div",81)(1,"div",82)(2,"div",83),g(3,Qe,1,1,"img",84),a(4,"div",85)(5,"input",86,2),f("change",function(i){p(t);let r=F(6),l=m();return h(l.preview(r.files,i))}),s(),A(7,"hr"),g(8,Ye,2,0,"button",87),s()()()()}if(o&2){let t=m();d(3),_("ngIf",t.imgURL),d(5),_("ngIf",t.banderadeCarga===0)}}function Je(o,u){if(o&1){let t=j();a(0,"button",90),f("click",function(){p(t);let i=m();return h(i.displayCambiarFoto=!1)}),n(1," Cerrar "),s()}}function Ke(o,u){o&1&&(a(0,"h5",91),n(1,"Control de Fechas"),s())}function $e(o,u){if(o&1){let t=j();a(0,"form")(1,"label",92),n(2," Seleccione la fecha de Nacimiento "),a(3,"input",93),x("ngModelChange",function(i){p(t);let r=m();return D(r.fechanuevadeNacimiento,i)||(r.fechanuevadeNacimiento=i),h(i)}),s()()()}if(o&2){let t=m();d(3),E("ngModel",t.fechanuevadeNacimiento)}}function Re(o,u){if(o&1){let t=j();a(0,"button",94),f("click",function(){p(t);let i=m();return h(i.displayFechaNacimiento=!1)}),n(1," Cerrar "),s(),a(2,"button",95),f("click",function(){p(t);let i=m();return i.actualizarfechaNacimiento(),h(i.displayFechaNacimiento=!1)}),n(3," Guardar "),s()}}function ei(o,u){o&1&&(a(0,"h5",91),n(1,"Control del Arma"),s())}function ii(o,u){if(o&1&&(a(0,"option",98),n(1),s()),o&2){let t=u.$implicit;_("ngValue",t),d(),P(" ",t.NombreArma," ")}}function ri(o,u){if(o&1){let t=j();a(0,"div")(1,"label"),n(2," Seleccione el Arma: "),a(3,"select",96),x("ngModelChange",function(i){p(t);let r=m(2);return D(r.armaselected,i)||(r.armaselected=i),h(i)}),g(4,ii,2,2,"option",97),s()()()}if(o&2){let t=m(2);d(3),E("ngModel",t.armaselected),d(),_("ngForOf",t.arregloarmas)}}function ti(o,u){o&1&&(a(0,"label"),n(1," Solo Oficiales y Sub Oficiales pueden tener Cuerpo "),s())}function ai(o,u){if(o&1&&(a(0,"option",98),n(1),s()),o&2){let t=u.$implicit;_("ngValue",t),d(),P(" ",t.NombreArma," ")}}function oi(o,u){if(o&1){let t=j();a(0,"div")(1,"label"),n(2," Seleccione el Arma: "),a(3,"select",96),x("ngModelChange",function(i){p(t);let r=m(2);return D(r.armaselected,i)||(r.armaselected=i),h(i)}),g(4,ai,2,2,"option",97),s()()()}if(o&2){let t=m(2);d(3),E("ngModel",t.armaselected),d(),_("ngForOf",t.arregloarmas)}}function si(o,u){if(o&1&&(a(0,"option",98),n(1),s()),o&2){let t=u.$implicit;_("ngValue",t),d(),P(" ",t.NombreArma," ")}}function ni(o,u){if(o&1){let t=j();a(0,"div")(1,"label"),n(2," Seleccione el Arma: "),a(3,"select",96),x("ngModelChange",function(i){p(t);let r=m(2);return D(r.armaselected,i)||(r.armaselected=i),h(i)}),g(4,si,2,2,"option",97),s()()()}if(o&2){let t=m(2);d(3),E("ngModel",t.armaselected),d(),_("ngForOf",t.arregloarmas)}}function li(o,u){if(o&1&&(a(0,"option",98),n(1),s()),o&2){let t=u.$implicit;_("ngValue",t),d(),P(" ",t.NombreArma," ")}}function di(o,u){if(o&1){let t=j();a(0,"div")(1,"label"),n(2," Seleccione el Arma: "),a(3,"select",96),x("ngModelChange",function(i){p(t);let r=m(2);return D(r.armaselected,i)||(r.armaselected=i),h(i)}),g(4,li,2,2,"option",97),s()()()}if(o&2){let t=m(2);d(3),E("ngModel",t.armaselected),d(),_("ngForOf",t.arregloarmas)}}function ci(o,u){if(o&1&&g(0,ri,5,2,"div",48)(1,ti,2,0,"label",48)(2,oi,5,2,"div",48)(3,ni,5,2,"div",48)(4,di,5,2,"div",48),o&2){let t=m();_("ngIf",(t.objetoConsultado==null?null:t.objetoConsultado.idfuerza)===3&&(t.objetoConsultado==null?null:t.objetoConsultado.codigo)!="AUX"&&(t.objetoConsultado==null?null:t.objetoConsultado.codigo)!="EST"&&(t.objetoConsultado==null?null:t.objetoConsultado.codigo)!="CAD"),d(),_("ngIf",(t.objetoConsultado==null?null:t.objetoConsultado.idfuerza)===2),d(),_("ngIf",(t.objetoConsultado==null?null:t.objetoConsultado.idfuerza)===2&&(t.objetoConsultado==null?null:t.objetoConsultado.codigo)!="TRO"&&(t.objetoConsultado==null?null:t.objetoConsultado.codigo)!="AUX"&&(t.objetoConsultado==null?null:t.objetoConsultado.codigo)!="EST"&&(t.objetoConsultado==null?null:t.objetoConsultado.codigo)!="CAD"),d(),_("ngIf",(t.objetoConsultado==null?null:t.objetoConsultado.idfuerza)===4&&(t.objetoConsultado==null?null:t.objetoConsultado.codigo)!="AUX"&&(t.objetoConsultado==null?null:t.objetoConsultado.codigo)!="EST"&&(t.objetoConsultado==null?null:t.objetoConsultado.codigo)!="CAD"),d(),_("ngIf",(t.objetoConsultado==null?null:t.objetoConsultado.idfuerza)===6&&(t.objetoConsultado==null?null:t.objetoConsultado.codigo)!="AUX"&&(t.objetoConsultado==null?null:t.objetoConsultado.codigo)!="EST"&&(t.objetoConsultado==null?null:t.objetoConsultado.codigo)!="CAD")}}function mi(o,u){if(o&1){let t=j();a(0,"button",94),f("click",function(){p(t);let i=m();return h(i.displayArma=!1)}),n(1," Cerrar "),s(),a(2,"button",95),f("click",function(){p(t);let i=m();return i.actualizarArma(),h(i.displayArma=!1)}),n(3," Guardar "),s()}}function ui(o,u){o&1&&(a(0,"h5",91),n(1,"Cambiar n\xFAmero de cuenta de banco"),s())}function pi(o,u){if(o&1&&(a(0,"form",99)(1,"label",100),n(2," # Banco "),A(3,"input",101),s()()),o&2){let t=m();_("formGroup",t.cambionumeroCuenta)}}function hi(o,u){if(o&1){let t=j();a(0,"button",94),f("click",function(){p(t);let i=m();return h(i.displayCuentaBanco=!1)}),n(1," Cancelar "),s(),a(2,"button",102),f("click",function(){p(t);let i=m();return i.actualizarCuenta(),h(i.displayCuentaBanco=!1)}),n(3," Guardar "),s()}}function _i(o,u){o&1&&(a(0,"h5",91),n(1,"Cambiar n\xFAmero de Identidad"),s())}function fi(o,u){if(o&1&&(a(0,"form",99)(1,"label",100),n(2," # Identidad "),A(3,"input",103),s()()),o&2){let t=m();_("formGroup",t.formIdentidad)}}function vi(o,u){if(o&1){let t=j();a(0,"button",94),f("click",function(){p(t);let i=m();return h(i.displayCambiarIdentidad=!1)}),n(1," Cancelar "),s(),a(2,"button",104),f("click",function(){p(t);let i=m();return i.CambioIdentidadPErsonalAdmin(),h(i.displayCambiarIdentidad=!1)}),n(3," Guardar "),s()}}function gi(o,u){o&1&&(a(0,"h5",91),n(1,"CAMBIO DE FECHA DE INGRESO"),s())}function bi(o,u){if(o&1){let t=j();a(0,"form")(1,"label",100),n(2," Fecha Ingreso "),a(3,"input",105),x("ngModelChange",function(i){p(t);let r=m();return D(r.actualizarfechaIngreso,i)||(r.actualizarfechaIngreso=i),h(i)}),s()()()}if(o&2){let t=m();d(3),E("ngModel",t.actualizarfechaIngreso)}}function Si(o,u){if(o&1){let t=j();a(0,"button",94),f("click",function(){p(t);let i=m();return h(i.displayFechaIngreso=!1)}),n(1," Cerrar "),s(),a(2,"button",95),f("click",function(){p(t);let i=m();return i.actualizarFechaIngreso(),h(i.displayFechaIngreso=!1)}),n(3," Guardar "),s()}}function Ci(o,u){o&1&&(a(0,"h5",91),n(1,"MODIFICAR ASCENSO"),s())}function ji(o,u){if(o&1){let t=j();a(0,"form")(1,"label",100),n(2," Fecha Ascenso: "),a(3,"input",106),x("ngModelChange",function(i){p(t);let r=m();return D(r.lineaAsecenso.FechaPrimerIngreso,i)||(r.lineaAsecenso.FechaPrimerIngreso=i),h(i)}),s()(),a(4,"label",107),n(5," Fecha Ingreso (Anterior): "),a(6,"input",108),x("ngModelChange",function(i){p(t);let r=m();return D(r.lineaAsecenso.fecha,i)||(r.lineaAsecenso.fecha=i),h(i)}),s()(),a(7,"label",107),n(8," Numero de Acuerdo: "),a(9,"input",109),x("ngModelChange",function(i){p(t);let r=m();return D(r.lineaAsecenso.numeroAcuerdo,i)||(r.lineaAsecenso.numeroAcuerdo=i),h(i)}),s()()()}if(o&2){let t=m();d(3),E("ngModel",t.lineaAsecenso.FechaPrimerIngreso),d(3),E("ngModel",t.lineaAsecenso.fecha),d(3),E("ngModel",t.lineaAsecenso.numeroAcuerdo)}}function Ei(o,u){if(o&1){let t=j();a(0,"button",94),f("click",function(){p(t);let i=m();return h(i.displayModificarAscenso=!1)}),n(1," Cerrar "),s(),a(2,"button",95),f("click",function(){p(t);let i=m();return i.actualizarTabladeAscenso(),h(i.displayModificarAscenso=!1)}),n(3," Guardar "),s()}}function Di(o,u){o&1&&(a(0,"h5",110),n(1,"ELIMINAR ASCENSO"),s())}function xi(o,u){if(o&1&&(a(0,"option",98),n(1),s()),o&2){let t=u.$implicit;_("ngValue",t),d(),P(" ",t.nombre_grado," ")}}function Ai(o,u){if(o&1&&(a(0,"option",98),n(1),s()),o&2){let t=u.$implicit;_("ngValue",t),d(),P(" ",t.nombre_grado," ")}}function wi(o,u){if(o&1){let t=j();a(0,"form")(1,"label",100),n(2," Seleccione el grado | rango (El que quedar\xE1 asignado): "),a(3,"select",111),x("ngModelChange",function(i){p(t);let r=m();return D(r.gradoqueVaQuedar,i)||(r.gradoqueVaQuedar=i),h(i)}),g(4,xi,2,2,"option",97),s()(),a(5,"label",107),n(6," Seleccione el grado | rango (El que se eliminar\xE1): "),a(7,"select",112),x("ngModelChange",function(i){p(t);let r=m();return D(r.gradoaeliminar,i)||(r.gradoaeliminar=i),h(i)}),g(8,Ai,2,2,"option",97),s()()()}if(o&2){let t=m();d(3),E("ngModel",t.gradoqueVaQuedar),d(),_("ngForOf",t.arregloAscensos),d(3),E("ngModel",t.gradoaeliminar),d(),_("ngForOf",t.arregloAscensos)}}function yi(o,u){if(o&1){let t=j();a(0,"button",94),f("click",function(){p(t);let i=m();return h(i.displayEliminarAscenso=!1)}),n(1," Cerrar "),s(),a(2,"button",113),f("click",function(){p(t);let i=m();return i.eliminargradoTablaAscenso(),h(i.displayEliminarAscenso=!1)}),n(3," Eliminar "),s()}}var Gi=(()=>{let u=class u{get identidad(){return this.formularioAresto.get("identidad")}get identidadAcusador(){return this.formularioAresto.get("identidadAcusador")}get fecha(){return this.formularioAresto.get("fecha")}get motivo(){return this.formularioAresto.get("motivo")}get hora(){return this.formularioAresto.get("hora")}get numeroTelefono(){return this.telefono.get("numeroTelefono")}get identidad2(){return this.formIdentidad.get("identidad")}get cuenta(){return this.cambionumeroCuenta.get("cuenta")}get numero(){return this.cupos.get("numero")}get nombre1(){return this.formulariopariente.get("nombre")}get apellidos1(){return this.formulariopariente.get("apellidos")}get correo1(){return this.formulariopariente.get("correo")}get tipo_sangre1(){return this.formulariopariente.get("tipo_sangre")}get fecha_nacimiento1(){return this.formulariopariente.get("fecha_nacimiento")}get lugar_nacimiento1(){return this.formulariopariente.get("lugar_nacimiento")}get estado_civil1(){return this.formulariopariente.get("estado_civil")}get combatiente1(){return this.formulariopariente.get("combatiente")}get identidad1(){return this.formulariopariente.get("identidad1")}get nivel_educativo1(){return this.formulariopariente.get("nivel_educativo")}get religion1(){return this.formulariopariente.get("religion")}get direccion_exacta1(){return this.formulariopariente.get("direccion_exacta")}get genero(){return this.formulariopariente.get("genero")}constructor(e,i,r,l){this._Activatedroute=e,this._DatospersonalesService=i,this._Router=r,this._ServiciosMensajeService=l,this.esperar=!1,this.agregarNuevoCupo={cantidadAutorizada:0,combatiente:"",idcategoria:"",fechaIngreso:""},this.desplegar=0,this.arregloCupos=new Array,this.banderapariente=0,this.noesvalido=!1,this.arreglosDeMisAsignacionesDirecciones=new Array,this.verCarpeta=0,this.arregloDepartamento=new Array,this.arreglocarpetasegunda=new Array,this.banderaEspiner=0,this.imgURL="",this.arreglocarpetaprincipal=new Array,this.arreglosSeccion=new Array,this.arreglodeDocumentos=new Array,this.arreglosRam=new Array,this.arregloFuerzas=new Array,this.ArregloUnidades=new Array,this.ArregloNombramiento=new Array,this.ArregloPuestos=new Array,this.FilesToUploads=new Array,this.arregloEducacionCivil=new Array,this.arregloarmas=new Array,this.arregloPaises=new Array,this.arregloConyugue=new Array,this.arregloMisPaises=new Array,this.arregloMisIdiomas=new Array,this.arregloIdiomas=new Array,this.arregloTelefono=new Array,this.arregloPadres=new Array,this.arregloHijos=new Array,this.arregloGrados=new Array,this.arregloAscensos=new Array,this.arreglomunicipio=new Array,this.arregloAsignaciones=new Array,this.arregloArestos=new Array,this.arregloCategorias=new Array,this.data={nombramiento:"",orden:""},this.dataPuesto={Nombre_Puesto:"",orden:""},this.idiomaSelected={idmisidiomas:"",nivel:0,idpersonal:""},this.SegundaVentana=0,this.consulta={identidad:""},this.banderadeCarga=0,this.numerocuentaAcambiar="",this.lineaAsecenso={personal_idpersonal:"",banderaPrimerIgreso:"",categoria_idcategoria:"",ejecutado_por:"",fecha:"",FechaPrimerIngreso:"",grado:"",numeroAcuerdo:"",activo:"",idunidad:"",idfuerza:""},this.identidadregex=/^[0-9]*$/,this.nmumeroregex=/[9|8|3|2]{1}\d{3}[-]\d{4}/,this.solo_numero=/\d+$/,this.patronCorreo=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,this.formularioAresto=new N({identidad:new C(""),identidadAcusador:new C("",[S.required,S.pattern(this.identidadregex)]),fecha:new C("",[S.required]),motivo:new C("",[S.required]),hora:new C("",[S.required])}),this.telefono=new N({numeroTelefono:new C("",[S.required,S.pattern(this.nmumeroregex)])}),this.formIdentidad=new N({identidad:new C("",[S.required,S.pattern(this.identidadregex)])}),this.cambionumeroCuenta=new N({cuenta:new C("",[S.required,S.pattern(this.solo_numero)])}),this.cupos=new N({numero:new C("",[S.required,S.pattern(this.solo_numero)])}),this.formulariopariente=new N({nombre:new C("",[S.required]),apellidos:new C("",[S.required]),correo:new C("",[S.required,S.pattern(this.patronCorreo)]),tipo_sangre:new C("",[S.required]),fecha_nacimiento:new C("",[S.required]),lugar_nacimiento:new C("",[S.required]),estado_civil:new C("",[S.required]),combatiente:new C(""),identidad1:new C(""),nivel_educativo:new C("",[S.required]),religion:new C("",[S.required]),direccion_exacta:new C("",[S.required]),genero:new C("",[S.required])}),this.arregloControlGrados=new Array,this.arreglounidadEjecutora=[],this.displayCambiarFoto=!1,this.displayCambiarIdentidad=!1,this.displayCuentaBanco=!1,this.displayArma=!1,this.displayFechaIngreso=!1,this.displayFechaNacimiento=!1,this.displayLugarNacimiento=!1,this.displayModificarAscenso=!1,this.displayEliminarAscenso=!1,this._Activatedroute.params.subscribe(c=>{this.desplegar=parseInt(c.id),this.SegundaVentana=0})}ngOnInit(){this.sacarFuerza(),this.sacarcontrolGrados(),this.sacarIdiomas(),this.usuarioLoguiado=JSON.parse(localStorage.getItem("user_login")).user,this._DatospersonalesService.sacardepartamentoTodos().subscribe(e=>{this.arregloDepartamento=e.resultado}),this.sacarUnidadEjecutora()}sacarUnidadEjecutora(){this._DatospersonalesService.sacarUnidadEjecutora().subscribe({next:e=>{this.arreglounidadEjecutora=e.resultado},error:()=>{}})}limpiarArreglos(){this.agregarNuevoCupo={cantidadAutorizada:0,combatiente:"",idcategoria:"",fechaIngreso:""},this.sacarcontrolGrados()}sacarcontrolGrados(){var e;this.arregloControlGrados=new Array,this.arreglosRam=new Array,this._DatospersonalesService.sacarControlGrados(e).subscribe(i=>{i.error?this._DatospersonalesService.mensajeError(i.error):i.mensaje?this._DatospersonalesService.mensajeError(i.mensaje):this.arregloControlGrados=i.resultado},i=>{this._DatospersonalesService.mensajeError("ERROR DE CONEXION")})}actualizarCuenta(){if(!this.cambionumeroCuenta.valid)this._DatospersonalesService.mensajeError("ERROR | SOLO NUMEROS SON ACEPTADOS EN EL NUMERO DE CUENTA");else{var e={updtate:this.cambionumeroCuenta.value.cuenta,identidad:this.objetoConsultado.identidad,cuentaVieja:this.objetoConsultado?.cuenta_banco,usuario:this.usuarioLoguiado};this._DatospersonalesService.actualizarCuentaBanco(e).subscribe(i=>{i.error?this._DatospersonalesService.mensajeError(i.error):(this._DatospersonalesService.mensajeBueno(i.resultado),this.cambionumeroCuenta.reset(),this.buscarporIdentidad())})}}sacarmunicipio(){var e={iddepartamento:this.departamentoselected.iddepartamento,prueba:"pruena"};this._DatospersonalesService.sacarmunicipio(e).subscribe(i=>{this.arreglomunicipio=i.resultado})}makeFileReques(e,i,r){return new Promise((l,c)=>{var w=new FormData,M=new XMLHttpRequest;if(r===void 0)this._DatospersonalesService.mensajeError("SELECCIONE EL ARCHIVO");else{for(let B=0;B<r.length;B++)w.append("files",r[B],r[B].name);M.onreadystatechange=function(){M.readyState==4&&(M.status==200?l(JSON.parse(M.response)):c(M.response))},M.open("POST",e,!0),M.send(w)}})}guardarImagen(){this.makeFileReques(this._DatospersonalesService.url2+"subirArchivo/"+this.objetoConsultado.identidad,[],this.FilesToUploads).then(e=>{this.imgURL="",e.error?this._DatospersonalesService.mensajeError(e.error):e.mesaje?this._DatospersonalesService.mensajeError(e.mensaje):(this._DatospersonalesService.mensajeBueno(e.resultado),this.buscarporIdentidad())})}verificarImagen(){if(this.banderadeCarga=1,this.objetoConsultado.foto==="null"||this.objetoConsultado.foto===null||this.objetoConsultado.foto==="Ninguna")this.guardarImagen(),this.banderadeCarga=0;else{var e={archivo:this.objetoConsultado.foto};this._DatospersonalesService.eliminararchivo(e).subscribe(i=>{i.mensaje?(this._DatospersonalesService.mensajeError(i.mensaje),this.guardarImagen(),this.banderadeCarga=0):(this.banderadeCarga=0,this.guardarImagen())})}}fileChangeEvenet(e){this.FilesToUploads=e.target.files}preview(e,i){if(this.fileChangeEvenet(i),e.length!==0){var r=e[0].type;if(r.match(/image\/*/)!=null){var l=new FileReader;l.readAsDataURL(e[0]),l.onload=c=>{this.imgURL=l.result}}}}guardarmunicipio(){if(this.municipioSelected===void 0)this._DatospersonalesService.mensajeError("SELECCIONE EL MUNICIPIO");else{var e={identidad:this.objetoConsultado.identidad,idmunicipio:this.municipioSelected.idmunicipio};this._DatospersonalesService.ActualizarlugarNacimiento(e).subscribe(i=>{i.error?this._DatospersonalesService.mensajeError(i.error):(this._DatospersonalesService.mensajeBueno(i.resultado),this.buscarporIdentidad())})}}sacarFuerza(){this.arregloFuerzas=new Array,this._DatospersonalesService.sacarFuerza().subscribe(e=>{this.arregloFuerzas=e.resultado})}sacarunidades(){this.ArregloUnidades=new Array,this._DatospersonalesService.sacarunidad(this.fuerzaSelected).subscribe(e=>{this.ArregloUnidades=e.resultado})}sacarNombranmiento(){this.ArregloNombramiento=new Array;var e={idunidad:this.unidadSelected.idunidad};this._DatospersonalesService.mostrarNombramiento(e).subscribe(i=>{this.ArregloNombramiento=i.resultado},i=>{this._DatospersonalesService.mensajeError("Ocurrio un error en la peticion")})}Sacar_Direcciones(e){this.ArregloNombramiento=new Array,this.unidadSelected=e.unidad;var i={idunidad:e.idunidad};this._DatospersonalesService.mostrarNombramiento(i).subscribe(r=>{this.ArregloNombramiento=r.resultado,this.sacarDireccionDeAsignado()},r=>{this._DatospersonalesService.mensajeError("Ocurrio un error en la peticion")})}sacarPuestos_delNombramiento(e){this.ArregloPuestos=new Array;var i={idnombramiento:e};this.nombramientoSelected=e,this._DatospersonalesService.MostrarPuesto(i).subscribe(r=>{this.ArregloPuestos=r.resultado},r=>{this._DatospersonalesService.mensajeError("Error de Coneccion llame a Soporte Tecnico")})}guardar_Nombramiento(){if(this.data.orden===""||this.data.nombramiento==="")this._DatospersonalesService.mensajeError("RELLENE LOS CAMPOS");else{var e={idunidad:this.unidadSelected.idunidad,descripcion:this.data.nombramiento,orden:this.data.orden};this._DatospersonalesService.agregarNombramiento(e).subscribe(i=>{i.error?this._DatospersonalesService.mensajeError(i.error):(this._DatospersonalesService.mensajeBueno(i.resultado),this.data={nombramiento:"",orden:""},this.sacarNombranmiento())},i=>{this._DatospersonalesService.mensajeError("ERROR DE CONEXION | GUARDAR NOMBRAMIENTO")})}}guardarPuesto(){var e={Nombre_Puesto:this.dataPuesto.Nombre_Puesto,dependenciaArbol:this.dataPuesto.orden,idnombramiento:this.nombramientoSelected};this._DatospersonalesService.agregarPuesto(e).subscribe(i=>{i.error?this._DatospersonalesService.mensajeError(i.error):(this._DatospersonalesService.mensajeBueno(i.resultado),this.dataPuesto={Nombre_Puesto:"",orden:""},this.sacarPuestos_delNombramiento(this.nombramientoSelected))},i=>{this._DatospersonalesService.mensajeError("ERROR DE CONECCION | GUARDAR PUESTO")})}crearCarpetaSegundaria(){v.default.fire({title:"Control de Carpetas",text:"Ingrese el nombre de la Carpeta",input:"text",showCancelButton:!1,allowOutsideClick:!1}).then(e=>{if(e===null)this._DatospersonalesService.mensajeError("Rellene los Campos");else if(e.value==="")this._DatospersonalesService.mensajeError("Rellene los Campos");else if(e.value===void 0)this._DatospersonalesService.mensajeError("Rellene los Campos");else{var i={idcarpeta:this.idcarpetaPrincipal,nombre:e.value};this._DatospersonalesService.crearcarpetaSegundaria(i).subscribe(r=>{r.error?this._DatospersonalesService.mensajeError(r.error):r.mensaje?this._DatospersonalesService.mensajeError(r.mensaje):this.buscarSegundacarpeta(this.idcarpetaPrincipal)})}})}eliminarcarpetasegundaria(e){var i={idcarpeta:e};this._DatospersonalesService.deletecarpetaSegundaria(i).subscribe(r=>{r.error?this._DatospersonalesService.mensajeError("La Carpeta Contien Documentos"):r.mensaje?this._DatospersonalesService.mensajeError(r.mensaje):(this._DatospersonalesService.mensajeBueno(r.resultado),this.buscarSegundacarpeta(this.idcarpetaPrincipal))})}AtrasDocumentos(e){this.verCarpeta=e}eliminarcarpetaprimaria(e){var i={idcarpeta:e};this._DatospersonalesService.deletecarpetaPrimaria(i).subscribe(r=>{r.error?this._DatospersonalesService.mensajeError("La Carpeta Contien Archivos"):r.mensaje?this._DatospersonalesService.mensajeError(r.mensaje):(this._DatospersonalesService.mensajeBueno(r.resultado),this.archivoPrincipal())})}ver(e){this.idarrestoSelected=e.idarrestos}resolveAfter2Seconds(){return new Promise(e=>{this.arregloAsignaciones=new Array;var i={identidad:this.consulta.identidad},r;this._DatospersonalesService.sacarLasAsignacionesDeunaPersona(i).subscribe(l=>{l.error||l.mensaje?e("error"):l.resultado.forEach(c=>{parseInt(c.actual)===1&&(r=c.idunidad,e(r))})})})}buscarSegundacarpeta(e){this.idcarpetaPrincipal=e;var i={idcarpetaprincipal:e};this.arreglocarpetasegunda=new Array,this._DatospersonalesService.sacarcarpetaSegundaria(i).subscribe(r=>{r.error?this._DatospersonalesService.mensajeError(r.error):r.mensaje?(this._DatospersonalesService.mensajeError(r.mensaje),this.verCarpeta=1):(this.arreglocarpetasegunda=r.resultado,this.verCarpeta=1)})}crearCarpetaPrincipal(){v.default.fire({title:"Control de Carpetas",text:"Ingrese el nombre de la Carpeta",input:"text",showCancelButton:!1,allowOutsideClick:!1}).then(e=>{if(e===null)this._DatospersonalesService.mensajeError("Rellene los Campos");else if(e.value==="")this._DatospersonalesService.mensajeError("Rellene los Campos");else if(e.value===void 0)this._DatospersonalesService.mensajeError("Rellene los Campos");else{var i={identidad:this.objetoConsultado.identidad,nombre:e.value};this._DatospersonalesService.crearcarpetaPrincipal(i).subscribe(r=>{r.error?this._DatospersonalesService.mensajeError(r.error):r.mensaje?this._DatospersonalesService.mensajeError(r.mensaje):this.archivoPrincipal()})}})}deleteDocumentoArresto(e,i){this.banderaEspiner=1;var r={idarrestos:e,dir:i};this._DatospersonalesService.deleteDocumentoArrestos(r).subscribe(l=>{l.error?(this._DatospersonalesService.mensajeError(l.error),this.banderaEspiner=0):l.mensaje?(this._DatospersonalesService.mensajeError(l.mensaje),this.banderaEspiner=0):(v.default.fire("Eliminado con exito"),this.banderaEspiner=0,this.sacarArestosdelPersonal())})}sacarDirecionesNombramiento(){this.sacarasignaciondireccionActual(),this.asyncCall()}asyncCall(){return O(this,null,function*(){this.arreglosSeccion=new Array;let e=yield this.resolveAfter2Seconds();if(e==="error")this._DatospersonalesService.mensajeError("Esta persona no cuenta con asignaciones");else{var i={idunidad:e};this._DatospersonalesService.mostrarNombramiento(i).subscribe(r=>{r.error?this._DatospersonalesService.mensajeError(r.error):r.mensaje?this._DatospersonalesService.mensajeError(r.mensaje):this.arreglosSeccion=r.resultado})}})}sacarpuestos(e){this.arregloPuestos=new Array;var i={idnombramiento:this.seccionselected.idNombramiento};this._DatospersonalesService.MostrarPuesto(i).subscribe(r=>{r.error?this._DatospersonalesService.mensajeError(r.error):r.mensaje?this._DatospersonalesService.mensajeError(r.mensaje):this.arregloPuestos=r.resultado})}desactivrPuesto(){var e={identidad:this.objetoConsultado.identidad};v.default.fire({title:"\xBFAlto?",text:"Esta seguro de desactivar el puesto",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#f0afa6",cancelButtonText:"Cancelar",confirmButtonText:"Aceptar"}).then(i=>{i.isConfirmed&&this._DatospersonalesService.desactivarPuesto(e).subscribe(r=>{r.error?this._DatospersonalesService.mensajeError(r.error):r.mensaje?this._DatospersonalesService.mensajeError(r.mensaje):(this._DatospersonalesService.mensajeBueno(r.resultado),this.sacsarcargodelapersona())})})}eliminarPuesto(e){var i={idPuesto:e};this._DatospersonalesService.eliminarPuesto(i).subscribe(r=>{r.error?this._DatospersonalesService.mensajeError(r.error):r.mensaje?this._DatospersonalesService.mensajeError(r.mensaje):(this._DatospersonalesService.mensajeBueno(r.resultado),this.sacarPuestos_delNombramiento(this.nombramientoSelected))},r=>{this._DatospersonalesService.mensajeError("ERROR DE CONECCION | ELIMIAR PUESTO")})}eliminarHijos(e){var i={identidad:e.identidad};this._DatospersonalesService.deleteHijo(i).subscribe(r=>{r.error?this._DatospersonalesService.mensajeError(r.error):r.mensaje?this._DatospersonalesService.mensajeError(r.mensaje):(this._DatospersonalesService.mensajeBueno("Eliminado con Exito"),this.sacarpadres())})}eliminar(e,i,r){this.banderaEspiner=1;var l={iddocumento:e,dir:i,identidad:this.objetoConsultado.identidad,identidadEjecutora:this.usuarioLoguiado.identidad,nombreDocumento:r.nombreDocumento};this._DatospersonalesService.deleteDocumento(l).subscribe(c=>{c.error?(this._DatospersonalesService.mensajeError(c.error),this.banderaEspiner=0):c.mensaje?(this._DatospersonalesService.mensajeError(c.mensaje),this.banderaEspiner=0):(v.default.fire("Eliminado con exito"),this.banderaEspiner=0,this.buscardocumentos(this.idcarpetaSegundaria))})}buscardocumentos(e){this.idcarpetaSegundaria=e,this.arreglodeDocumentos=new Array;var i={idcarpetaSegundaria:e};this._DatospersonalesService.sacarDocumento(i).subscribe(r=>{r.error?this._DatospersonalesService.mensajeError(r.error):r.mensaje?(this._DatospersonalesService.mensajeError(r.mensaje),this.verCarpeta=2):(this.verCarpeta=2,this.arreglodeDocumentos=r.resultado)})}eliminarPadre(e){var i={identidad:e.identidad};this._DatospersonalesService.deletePadres(i).subscribe(r=>{r.error?this._DatospersonalesService.mensajeError(r.error):r.mensaje?this._DatospersonalesService.mensajeError(r.mensaje):(this._DatospersonalesService.mensajeBueno("Eliminado con Exito"),this.sacarpadres())})}limpiarBandera(){this.banderapariente=0,this.formulariopariente.reset(),this.formIdentidad.reset()}eliminarNombramiento(e){var i={idNombramiento:e};this._DatospersonalesService.eliminarNombramiento(i).subscribe(r=>{r.error?this._DatospersonalesService.mensajeError(r.error):r.mensaje?this._DatospersonalesService.mensajeError(r.mensaje):(this._DatospersonalesService.mensajeBueno(r.resultado),this.sacarNombranmiento())},r=>{this._DatospersonalesService.mensajeError("ERROR DE CONECCION | ELIMIAR PUESTO")})}buscarporIdentidad(){this._ServiciosMensajeService.show(),this._DatospersonalesService.consultaPorIdentidad(this.consulta).subscribe(e=>{console.log(e),this._ServiciosMensajeService.hide(),e.error?this._DatospersonalesService.mensajeError(e.error.sqlMessage+"BUSC"):e.mensaje?this._DatospersonalesService.mensajeError(e.mensaje):(this.objetoConsultado=e.resultado[0],this.armaobjetoConsultado=e.arma[0],this.desplegar=0,this.SegundaVentana=1,this.sacarAscensosdelPersonal())},e=>{this._ServiciosMensajeService.hide(),this._ServiciosMensajeService.mensajeMalo("ERROR DE CONEXION AL REALIZAR LA CONSULTA")})}atras(e){this.SegundaVentana=0,this.desplegar=e}archivoPrincipal(){this.verCarpeta=0,this.arreglocarpetaprincipal=new Array;var e={identidad:this.objetoConsultado.identidad};this._DatospersonalesService.sacarcarpetaPrimaria(e).subscribe(i=>{i.error?this._DatospersonalesService.mensajeError(i.error):i.mensaje?this._DatospersonalesService.mensajeError(i.mensaje):this.arreglocarpetaprincipal=i.resultado})}ActualizaGenero(){v.default.fire({title:"Control Genero",text:"Seleccione el Genero",input:"select",inputOptions:{M:"Masculino",F:"Femenino"},showCancelButton:!0,allowOutsideClick:!1}).then(e=>{if(e===null)this._DatospersonalesService.mensajeError("Rellene los Campos");else if(e.value==="")this._DatospersonalesService.mensajeError("Rellene los Campos");else if(e===void 0)this._DatospersonalesService.mensajeError("Rellene los Campos");else{var i={identidad:this.objetoConsultado.identidad,sexo:e.value};this._DatospersonalesService.actualizarGenero(i).subscribe(r=>{r.error?this._DatospersonalesService.mensajeError(r.error):r.mensaje?this._DatospersonalesService.mensajeError(r.mensaje):(this._DatospersonalesService.mensajeError(r.resultado),this.buscarporIdentidad())})}})}sacarArestosdelPersonal(){var e={identidad:this.consulta.identidad};this.arregloArestos=new Array,this._DatospersonalesService.sacarAresto(e).subscribe(i=>{i.error?this._DatospersonalesService.mensajeError(i.error.sqlMessage):i.mensaje?this._DatospersonalesService.mensajeError(i.mensaje):this.arregloArestos=i.resultado})}sacsarcargodelapersona(){this.arreglosRam=new Array;var e={identidad:this.objetoConsultado.identidad};this._DatospersonalesService.sacarCargoDeUnapersona(e).subscribe(i=>{i.error?this._DatospersonalesService.mensajeError(i.error):i.mensaje?this._DatospersonalesService.mensajeError(i.mensaje):this.arreglosRam=i.resultado},i=>{this._DatospersonalesService.mensajeError("ERROR DE CONECCION AL RELIZAR LA CONSULTA POR CARGO")})}sacarAsignacionesPersonal(){this.arregloAsignaciones=new Array;var e={identidad:this.consulta.identidad};this._DatospersonalesService.sacarLasAsignacionesDeunaPersona(e).subscribe(i=>{i.error?this._DatospersonalesService.mensajeError(i.error.sqlMessage):i.mensaje?this._DatospersonalesService.mensajeError(i.mensaje):this.arregloAsignaciones=i.resultado})}sacarAscensosdelPersonal(){var e={identidad:this.consulta.identidad};this._DatospersonalesService.sacarAscensosporPersona(e).subscribe(i=>{this.arregloAscensos=i.resultado,this.arregloAscensos.forEach(r=>{r.activo==1&&(this.gradoActualdelConsultado=r)})})}sacarmisidiomas(){this.arregloMisIdiomas=new Array;var e={identidad:this.objetoConsultado.identidad};this._DatospersonalesService.consultaIdiomasPersonal(e).subscribe(i=>{i.error?this._DatospersonalesService.mensajeError(i.error):i.mensaje?this._DatospersonalesService.mensajeError(i.mensaje):this.arregloMisIdiomas=i.resultado})}sacarMisPaises(){this.arregloMisPaises=new Array;var e={identidad:this.objetoConsultado.identidad};this._DatospersonalesService.consultaPaisesDelPersonal(e).subscribe(i=>{i.error?this._DatospersonalesService.mensajeError(i.error):i.mensaje?this._DatospersonalesService.mensajeError(i.mensaje):this.arregloMisPaises=i.resultado}),this.sacarmisidiomas()}consultaTelefonoDelPersonal(){var e={identidad:this.consulta.identidad};this.arregloTelefono=new Array,this._DatospersonalesService.consultaTelefonoPersonal(e).subscribe(i=>{i.mensaje?this._DatospersonalesService.mensajeError(i.mensaje):this.arregloTelefono=i.resultado})}consultaHijosDelPersonal(){var e={identidad:this.consulta.identidad};this._DatospersonalesService.consultaHijosPersonal(e).subscribe(i=>{i.mensaje?this._DatospersonalesService.mensajeError(i.mensaje):this.arregloHijos=i.resultado})}consultaPadresoDelPersonal(){var e={identidad:this.consulta.identidad};this._DatospersonalesService.consultaPadresPersonal(e).subscribe(i=>{i.mensaje?this._DatospersonalesService.mensajeError(i.mensaje):this.arregloPadres=i.resultado,this.consultaHijosDelPersonal()}),this.sacarconyugue()}eliminarnumero(e){var i={numero:e};this._DatospersonalesService.eleminarnumeroTelefono(i).subscribe(r=>{r.error?this._DatospersonalesService.mensajeError(r.error):r.mensaje?this._DatospersonalesService.mensajeError(r.mensaje):(this._DatospersonalesService.mensajeBueno(r.resultado),this.consultaTelefonoDelPersonal())})}ascender(){var e={autorizado:1},i={servicio:"",general:""};this.gradoActualdelConsultado.nivel===1?(alert("Es Un soldado o un auxiliar"),this.banderacambiocategoria=2):this.gradoActualdelConsultado.nivel===2?(alert("Es Un Estudiante"),this.banderacambiocategoria=1):this.gradoActualdelConsultado.nivel===3?(this.banderacambiocategoria=1,this.objetoConsultado.idfuerza===3?(alert("Es Un cadete del ejercito"),i.servicio="EHOS",i.general="EHO"):this.objetoConsultado.idfuerza===4?(alert("Es Un cadete de la aerea "),i.servicio="FAHOS",i.general="FAHO"):(alert("Es Un cadete de la Naval "),i.servicio="FNHOS",i.general="FNHO")):this.banderacambiocategoria=2,this._DatospersonalesService.sacarCategoria(i).subscribe(r=>{r.error?this._DatospersonalesService.mensajeError(r.error):this.arregloCategorias=r.resultado}),this._DatospersonalesService.sacarGrados(e).subscribe(r=>{this.arregloGrados=r.resultado})}eliminarIdioma(e){var i={identidad:this.objetoConsultado.identidad,idioma:e.idmisidiomas,nivel:e.nivel};this._DatospersonalesService.deleteidomas(i).subscribe(r=>{r.error?this._DatospersonalesService.mensajeError(r.error):r.mensaje?this._DatospersonalesService.mensajeError(r.mensaje):(this._DatospersonalesService.mensajeBueno("Eliminado con Exito"),this.sacarmisidiomas())})}sacarIdiomas(){this.arregloIdiomas=new Array,this._DatospersonalesService.sacaridiomas().subscribe(e=>{e.error?this._DatospersonalesService.mensajeError(e.error):this.arregloIdiomas=e.resultado})}EliminarPais(e){var i={identidad:this.objetoConsultado.identidad,idpais:e.idpais};this._DatospersonalesService.deletepais(i).subscribe(r=>{r.error?this._DatospersonalesService.mensajeError(r.error):r.mensaje?this._DatospersonalesService.mensajeError(r.mensaje):(this._DatospersonalesService.mensajeBueno(r.resultado),this.sacarMisPaises())})}sacarpaises(){this._DatospersonalesService.sacarpaises().subscribe(e=>{e.error?this._DatospersonalesService.mensajeError(e.error):e.mensaje?this._DatospersonalesService.mensajeError(e.mensaje):this.arregloPaises=e.resultado})}Actualizaserie(){v.default.fire({title:"Control del Sistema",text:"Numero de Serie",input:"text",showCancelButton:!0,allowOutsideClick:!1}).then(e=>{if(e===null)this._DatospersonalesService.mensajeError("Rellene los Campos");else if(e.value==="")this._DatospersonalesService.mensajeError("Rellene los Campos");else if(e===void 0)this._DatospersonalesService.mensajeError("Rellene los Campos");else if(e.isDismissed)this._DatospersonalesService.mensajeError("Cancelado");else{var i=/^[0-9]+$/;if(e.value.match(i)){var r={identidad:this.objetoConsultado.identidad,serie:e.value};this._DatospersonalesService.actualizarSerie(r).subscribe(l=>{l.error?this._DatospersonalesService.mensajeError(l.error):l.resultado&&(this._DatospersonalesService.mensajeBueno(l.resultado),this.buscarporIdentidad())})}else this._DatospersonalesService.mensajeError("Ingrese solo N\xFAmeros")}})}ActualizarEstadoCivil(){v.default.fire({title:"Control del Sistema",text:"Seleccione su estado Civil",input:"select",inputOptions:{"Soltero(a)":"Soltero(a)","Casado(a)":"Casado(a)","Viudo(a)":"Viudo(a)","Divorciado(a)":"Divorciado(a)","Union libre":" Union libre"},showCancelButton:!0,allowOutsideClick:!1}).then(e=>{if(e===null)this._DatospersonalesService.mensajeError("Rellene los Campos");else if(e.value==="")this._DatospersonalesService.mensajeError("Rellene los Campos");else if(e===void 0)this._DatospersonalesService.mensajeError("Rellene los Campos");else if(e.isDismissed)this._DatospersonalesService.mensajeError("Cancelado");else{var i={updtate:e.value,identidad:this.objetoConsultado.identidad};this._DatospersonalesService.actualizarestadoCivil(i).subscribe(r=>{r.error?this._DatospersonalesService.mensajeError(r.error):(this._DatospersonalesService.mensajeBueno(r.resultado),this.buscarporIdentidad())})}})}ActualizarReligion(){v.default.fire({title:"Control del Sistema",text:"Seleccione Su Religion",input:"select",inputOptions:{Catolica:"Catolica",Evangelico:"Evangelico",Mormon:"Mormon","Sin Religion":"Sin Religion"},showCancelButton:!0,allowOutsideClick:!1}).then(e=>{if(e===null)this._DatospersonalesService.mensajeError("Rellene los Campos");else if(e.value==="")this._DatospersonalesService.mensajeError("Rellene los Campos");else if(e===void 0)this._DatospersonalesService.mensajeError("Rellene los Campos");else if(e.isDismissed)this._DatospersonalesService.mensajeError("Cancelado");else{var i={updtate:e.value,identidad:this.objetoConsultado.identidad};this._DatospersonalesService.actualizarReligion(i).subscribe(r=>{r.error?this._DatospersonalesService.mensajeError(r.error):(this._DatospersonalesService.mensajeBueno(r.resultado),this.buscarporIdentidad())})}})}ActualizartipoSangre(){v.default.fire({title:"Control del Sistema",text:"Seleccione el Tipo de Sangre",input:"select",inputOptions:{"A+":"A+","A-":"A-","O+":"O+","O-":"O-","B+":"B+","B-":"B-","AB+":"AB+","AB-":"AB-"},showCancelButton:!0,allowOutsideClick:!1}).then(e=>{if(e===null)this._DatospersonalesService.mensajeError("Rellene los Campos");else if(e.value==="")this._DatospersonalesService.mensajeError("Rellene los Campos");else if(e===void 0)this._DatospersonalesService.mensajeError("Rellene los Campos");else if(e.isDismissed)this._DatospersonalesService.mensajeError("Cancelado");else{var i={updtate:e.value,identidad:this.objetoConsultado.identidad};this._DatospersonalesService.actualizartipoSangre(i).subscribe(r=>{r.error?this._DatospersonalesService.mensajeError(r.error):(this._DatospersonalesService.mensajeBueno(r.resultado),this.buscarporIdentidad())})}})}ActualizaNumeropasaporte(){v.default.fire({title:"Control del Sistema",text:"Numero de Pasaporte",input:"text",showCancelButton:!0,allowOutsideClick:!1}).then(e=>{if(e===null)this._DatospersonalesService.mensajeError("Rellene los Campos");else if(e.value==="")this._DatospersonalesService.mensajeError("Rellene los Campos");else if(e===void 0)this._DatospersonalesService.mensajeError("Rellene los Campos");else if(e.isDismissed)this._DatospersonalesService.mensajeError("Cancelado");else{var i={updtate:e.value,identidad:this.objetoConsultado.identidad};this._DatospersonalesService.actualizarPasaporte(i).subscribe(r=>{r.error?this._DatospersonalesService.mensajeError(r.error):(this._DatospersonalesService.mensajeBueno(r.resultado),this.buscarporIdentidad())})}})}actualizarCombatiente(){v.default.fire({title:"Control del sistema",text:"Seleccione si es combatiente ",input:"select",inputOptions:{0:"No",1:"Si"},showCancelButton:!0,allowOutsideClick:!1}).then(e=>{if(e===null)this._DatospersonalesService.mensajeError("Rellene los Campos");else if(e.value==="")this._DatospersonalesService.mensajeError("Rellene los Campos");else if(e===void 0)this._DatospersonalesService.mensajeError("Rellene los Campos");else{var i={identidad:this.objetoConsultado.identidad,updtate:e.value};this.formIdentidad.value.identidad=i.identidad,this._DatospersonalesService.actualizarCombatiente(i).subscribe(r=>{r.error?this._DatospersonalesService.mensajeError(r.error):r.mensaje?this._DatospersonalesService.mensajeError(r.mensaje):(this._DatospersonalesService.mensajeBueno(r.resultado),this.buscarporIdentidad())})}})}ActualizaCuentaBanco(){v.default.fire({title:"Control del Sistema",text:"Cuenta de Banco",input:"text",showCancelButton:!0,allowOutsideClick:!1}).then(e=>{if(e===null)this._DatospersonalesService.mensajeError("Rellene los Campos");else if(e.value==="")this._DatospersonalesService.mensajeError("Rellene los Campos");else if(e===void 0)this._DatospersonalesService.mensajeError("Rellene los Campos");else if(e.isDismissed)this._DatospersonalesService.mensajeError("Cancelado");else{var i={updtate:e.value,identidad:this.objetoConsultado.identidad};this._DatospersonalesService.actualizarCuentaBanco(i).subscribe(r=>{r.error?this._DatospersonalesService.mensajeError(r.error):(this._DatospersonalesService.mensajeBueno(r.resultado),this.buscarporIdentidad())})}})}actualizarfechaNacimiento(){if(this.fechanuevadeNacimiento===void 0)this._DatospersonalesService.mensajeError("Seleccione la Fecha");else{var e={identidad:this.objetoConsultado.identidad,updtate:this.fechanuevadeNacimiento};this._DatospersonalesService.actualizarFechaNacimiento(e).subscribe(i=>{i.error?this._DatospersonalesService.mensajeError(i.error):i.mensaje?this._DatospersonalesService.mensajeError(i.mensaje):(this._DatospersonalesService.mensajeBueno(i.resultado),this.buscarporIdentidad())})}}guardarconyugue(){this.formulariopariente.value.combatiente="0",this.formulariopariente.value.identidad=this.formIdentidad.value.identidad,this.arregloConyugue===void 0?this.formulariopariente.valid?this._DatospersonalesService.guardarPerientes(this.formulariopariente.value).subscribe(e=>{if(e.error)this._DatospersonalesService.mensajeError(e.error);else if(e.mensaje)this._DatospersonalesService.mensajeError(e.mensaje);else{var i={identidad1:this.objetoConsultado.identidad,identidad2:this.formulariopariente.value.identidad};this._DatospersonalesService.agregarconyugue(i).subscribe(r=>{r.error?this._DatospersonalesService.mensajeError(r.error):r.mensaje?this._DatospersonalesService.mensajeError(r.mensaje):(this._DatospersonalesService.mensajeBueno("Guardado con exito"),this.sacarpadres(),this.formulariopariente.reset())})}}):(this._DatospersonalesService.mensajeError("Formulario Incompleto"),this.sacarpadres()):this.arregloConyugue.length===1?this._DatospersonalesService.mensajeError("Titular Ya Cuanta con un conyugue"):this.formulariopariente.valid?this._DatospersonalesService.guardarPerientes(this.formulariopariente.value).subscribe(e=>{if(e.error)this._DatospersonalesService.mensajeError(e.error);else if(e.mensaje)this._DatospersonalesService.mensajeError(e.mensaje);else{var i={identidad1:this.objetoConsultado.identidad,identidad2:this.formulariopariente.value.identidad};this._DatospersonalesService.agregarconyugue(i).subscribe(r=>{r.error?this._DatospersonalesService.mensajeError(r.error):r.mensaje?this._DatospersonalesService.mensajeError(r.mensaje):(this._DatospersonalesService.mensajeBueno("Guardado con exito"),this.sacarpadres(),this.formulariopariente.reset())})}}):(this._DatospersonalesService.mensajeError("Formulario Incompleto"),this.sacarpadres())}sacarconyugue(){this.arregloConyugue=new Array;var e={identidad:this.objetoConsultado.identidad};this._DatospersonalesService.consultaConyuguePersonal(e).subscribe(i=>{this.arregloConyugue=i.resultado})}eliminaconyugue(e){var i={identidad:e.identidad};this._DatospersonalesService.deleteConyugue(i).subscribe(r=>{r.error?this._DatospersonalesService.mensajeError(r.error):r.mensaje?this._DatospersonalesService.mensajeError(r.mensaje):(this._DatospersonalesService.mensajeBueno(r.resultado),this.sacarpadres())})}buscarconyugue(){var e;if(this.formIdentidad.valid)if(this.formIdentidad.value.identidad===this.objetoConsultado.identidad)this._DatospersonalesService.mensajeError("Identidad Consultada igual a la identidad del titular");else{var i={identidad_pariente:this.formIdentidad.value.identidad};this._DatospersonalesService.sacarPersonalIdentidad(i).subscribe(r=>{if(r.error)this._DatospersonalesService.mensajeError(r.error.sqlMessage);else if(r.mensaje)this._DatospersonalesService.mensajeError(r.mensaje),this.banderapariente=1;else{e=r.resultado[0];var l={identidad1:this.objetoConsultado.identidad,identidad2:r.resultado[0].identidad};this.arregloConyugue===void 0?this._DatospersonalesService.agregarconyugue(l).subscribe(c=>{c.error?this._DatospersonalesService.mensajeError(c.error):c.mensaje?this._DatospersonalesService.mensajeError(c.mensaje):(this._DatospersonalesService.mensajeBueno("Guardado con exito"),this.sacarpadres(),this.formulariopariente.reset())}):this.arregloConyugue.length===1?this._DatospersonalesService.mensajeError("El titular ya cuenta con su conyugue"):this._DatospersonalesService.agregarconyugue(l).subscribe(c=>{c.error?this._DatospersonalesService.mensajeError(c.error):c.mensaje?this._DatospersonalesService.mensajeError(c.mensaje):(this._DatospersonalesService.mensajeBueno("Guardado con exito"),this.sacarpadres(),this.formulariopariente.reset())})}})}else this._DatospersonalesService.mensajeError("Formato Invalido en la identidad")}sacarArmas(){var e={idfuerza:this.objetoConsultado.idfuerza};this._DatospersonalesService.sacarArmas(e).subscribe(i=>{this.arregloarmas=i.resultado})}sacarArmasPersona(){var e={idfuerza:this.fuerzaSelected.idfuerza};this._DatospersonalesService.sacarArmas(e).subscribe(i=>{this.arregloarmas=i.resultado})}actualizarArma(){let e=v.default.mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"},buttonsStyling:!1});e.fire({title:"\xBFEsta Seguro?",text:"De agregar el arma",icon:"warning",showCancelButton:!0,confirmButtonText:"SI",cancelButtonText:"No",reverseButtons:!0}).then(i=>{if(i.isConfirmed)if(this.armaselected===void 0)this._DatospersonalesService.mensajeError("Seleccione el Arma");else{var r={idarma:this.armaselected.idarmas,identidad:this.objetoConsultado.identidad};this._DatospersonalesService.ActualizarArma(r).subscribe(l=>{l.error?this._DatospersonalesService.mensajeError(l.error):this.buscarporIdentidad()})}else i.dismiss===v.default.DismissReason.cancel&&e.fire("Cancelado","Ejecucion Cancelada","error")})}sacarpadres(){this.arregloPadres=new Array,this.arregloHijos=new Array;var e={identidad:this.objetoConsultado.identidad};this._DatospersonalesService.consultaPadresPersonal(e).subscribe(i=>{this.arregloPadres=i.resultado}),this._DatospersonalesService.consultaHijosPersonal(e).subscribe(i=>{this.arregloHijos=i.resultado}),this.sacarconyugue()}cambiarnombres(){v.default.fire({title:"Cambio de Nombre",text:"1\xB0 Nombre y 2\xB0 Nombre",input:"text",showCancelButton:!0,allowOutsideClick:!1}).then(e=>{if(e===null)this._DatospersonalesService.mensajeError("Rellene los Campos");else if(e.value==="")this._DatospersonalesService.mensajeError("Rellene los Campos");else if(e===void 0)this._DatospersonalesService.mensajeError("Rellene los Campos");else if(e.isDismissed)this._DatospersonalesService.mensajeError("Cancelado");else{var i={nombres:e.value,apellidos:this.objetoConsultado.apellidos,identidad:this.objetoConsultado.identidad};this._DatospersonalesService.actualizarNombresYapellidos(i).subscribe(r=>{r.error?this._DatospersonalesService.mensajeError(r.error):(this._DatospersonalesService.mensajeBueno(r.resultado),this.buscarporIdentidad())})}})}cambiarapellidos(){v.default.fire({title:"Cambio de Apellido",text:"1\xB0 Apellidos y 2\xB0 Apellidos",input:"text",showCancelButton:!0,allowOutsideClick:!1}).then(e=>{if(e===null)this._DatospersonalesService.mensajeError("Rellene los Campos");else if(e.value==="")this._DatospersonalesService.mensajeError("Rellene los Campos");else if(e===void 0)this._DatospersonalesService.mensajeError("Rellene los Campos");else if(e.isDismissed)this._DatospersonalesService.mensajeError("Cancelado");else{var i={nombres:this.objetoConsultado.nombres,apellidos:e.value,identidad:this.objetoConsultado.identidad};this._DatospersonalesService.actualizarNombresYapellidos(i).subscribe(r=>{r.error?this._DatospersonalesService.mensajeError(r.error):(this._DatospersonalesService.mensajeBueno(r.resultado),this.buscarporIdentidad())})}})}cambiarnumeroAcuerdo(){v.default.fire({title:"Numero de Acuerdo",text:"#Acuerdo",input:"text",showCancelButton:!0,allowOutsideClick:!1}).then(e=>{if(e===null)this._DatospersonalesService.mensajeError("Rellene los Campos");else if(e.value==="")this._DatospersonalesService.mensajeError("Rellene los Campos");else if(e===void 0)this._DatospersonalesService.mensajeError("Rellene los Campos");else if(e.isDismissed)this._DatospersonalesService.mensajeError("Cancelado");else{var i=this.objetoConsultado.fecha.split("T")[0],r={fecha:i,numeroAcuerdo:e.value,identidad:this.objetoConsultado.identidad};this._DatospersonalesService.actualizarAcuerdoyfechaIngreso(r).subscribe(l=>{l.error?this._DatospersonalesService.mensajeError(l.error):(this._DatospersonalesService.mensajeBueno(l.resultado),this.buscarporIdentidad())})}})}actualizarFechaIngreso(){if(this.actualizarfechaIngreso===void 0)this._DatospersonalesService.mensajeError("SELECCIONE LA FECHA.");else{var e={fecha:this.actualizarfechaIngreso,numeroAcuerdo:this.objetoConsultado.numeroAcuerdo,identidad:this.objetoConsultado.identidad};this._DatospersonalesService.actualizarAcuerdoyfechaIngreso(e).subscribe(i=>{i.error?this._DatospersonalesService.mensajeError(i.error):(this._DatospersonalesService.mensajeBueno(i.resultado),this.buscarporIdentidad())})}}ascesoseleccionado(e){this.lineaAsecenso={personal_idpersonal:this.objetoConsultado.personal_idpersonal,banderaPrimerIgreso:e.banderaPrimerIngreso,categoria_idcategoria:e.categoria_idcategoria,ejecutado_por:this.usuarioLoguiado.identidad,fecha:e.fecha.split("T")[0],FechaPrimerIngreso:e.fechaPrimerIngreso.split("T")[0],grado:e.grado,numeroAcuerdo:e.numeroAcuerdo,activo:e.activo,idunidad:e.idunidad,idfuerza:e.idfuerza}}actualizarTabladeAscenso(){this._DatospersonalesService.actualizarTablaascenso(this.lineaAsecenso).subscribe(e=>{e.error?this._DatospersonalesService.mensajeError(e.error):e.mensaje?this._DatospersonalesService.mensajeError(e.mensaje):(this._DatospersonalesService.mensajeBueno(e.resultado),this.buscarporIdentidad(),this.sacarAscensosdelPersonal())},e=>{this._DatospersonalesService.mensajeError("ERROR DE CONECCION | ACTUALIZAR TABLA DE ASCENSO")})}eliminargradoTablaAscenso(){v.default.fire({title:"\xBFEsta seguro de eliminarlo?",text:"Esta usted apunto de eliminar el grado | rango de esta persona.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"NO",confirmButtonText:"SI"}).then(e=>{if(e.isConfirmed)if(this.gradoqueVaQuedar===void 0||this.gradoaeliminar===void 0)this._DatospersonalesService.mensajeError("SELECCION LOS CAMPOS");else if(this.gradoqueVaQuedar.grado===this.gradoaeliminar.grado)this._DatospersonalesService.mensajeError("NO PUEDE SELECCIONAR EL MISMO GRADO QUE VA ELIMINAR");else{var i={gradoEliminar:this.gradoaeliminar.grado,gradoQuevaQuedar:this.gradoqueVaQuedar.grado,personal_idpersonal:this.objetoConsultado.personal_idpersonal};this._DatospersonalesService.eliminarGradoTablaAscenso(i).subscribe(r=>{r.error?this._DatospersonalesService.mensajeError(r.error):r.mensaje?this._DatospersonalesService.mensajeError(r.mensaje):(this._DatospersonalesService.mensajeBueno(r.resultado),this.buscarporIdentidad(),this.sacarAscensosdelPersonal())},r=>{this._DatospersonalesService.mensajeError("ERROR DE CONECCION | BORRAR GRADO")})}})}guardarTelefono(){var e={numero:this.telefono.value.numeroTelefono,idpersonal:this.objetoConsultado.identidad};this.telefono.valid?this._DatospersonalesService.agregarTelefono(e).subscribe(i=>{i.error?this._DatospersonalesService.mensajeError(i.error.sqlMessage):i.mensaje?this._DatospersonalesService.mensajeError(i.mensaje):this.consultaTelefonoDelPersonal()}):this._DatospersonalesService.mensajeError("No Cumple con el formato")}buscarParientes(){if(this.formIdentidad.valid)if(this.formIdentidad.value.identidad===this.objetoConsultado.identidad)this._DatospersonalesService.mensajeError("Identidad Consultada igual a la identidad del Hijo");else if(this.arregloPadres===void 0){var e={identidad_pariente:this.formIdentidad.value.identidad};this._DatospersonalesService.sacarPersonalIdentidad(e).subscribe(i=>{if(i.error)this._DatospersonalesService.mensajeError(i.error.sqlMessage);else if(i.mensaje)this._DatospersonalesService.mensajeError(i.mensaje),this.banderapariente=1;else{this.parienteConsultado=i.resultado[0];var r={idpadres:this.formIdentidad.value.identidad,idhijo:this.objetoConsultado.identidad};this._DatospersonalesService.guardarpadres(r).subscribe(l=>{l.error?this._DatospersonalesService.mensajeError(l.error):l.mensaje?this._DatospersonalesService.mensajeError(l.mensaje):(this._DatospersonalesService.mensajeBueno("Guardado con exito"),this.formulariopariente.reset(),this.sacarpadres())})}})}else if(this.arregloPadres.length>=2)this._DatospersonalesService.mensajeError("Ya Cuenta con sus dos padres");else{var e={identidad_pariente:this.formIdentidad.value.identidad};this._DatospersonalesService.sacarPersonalIdentidad(e).subscribe(r=>{if(r.error)this._DatospersonalesService.mensajeError(r.error.sqlMessage);else if(r.mensaje)this._DatospersonalesService.mensajeError(r.mensaje),this.banderapariente=1;else{this.parienteConsultado=r.resultado[0];var l={idpadres:this.formIdentidad.value.identidad,idhijo:this.objetoConsultado.identidad};this._DatospersonalesService.guardarpadres(l).subscribe(c=>{c.error?this._DatospersonalesService.mensajeError(c.error):c.mensaje?this._DatospersonalesService.mensajeError(c.mensaje):(this._DatospersonalesService.mensajeBueno("Guardado con exito"),this.formulariopariente.reset(),this.sacarpadres())})}})}else this._DatospersonalesService.mensajeError("Formato Invalido en la identidad")}guardarPariente(){this.formulariopariente.value.combatiente=0,this.formulariopariente.value.identidad=this.formIdentidad.value.identidad,this.formulariopariente.valid?this._DatospersonalesService.guardarPerientes(this.formulariopariente.value).subscribe(e=>{if(e.error)this._DatospersonalesService.mensajeError(e.error);else if(e.mensaje)this._DatospersonalesService.mensajeError(e.mensaje);else{var i={idpadres:this.formulariopariente.value.identidad,idhijo:this.objetoConsultado.identidad};this._DatospersonalesService.guardarpadres(i).subscribe(r=>{r.error?this._DatospersonalesService.mensajeError(r.error):r.mensaje?this._DatospersonalesService.mensajeError(r.mensaje):(this._DatospersonalesService.mensajeBueno("Guardado con exito"),this.sacarpadres(),this.formulariopariente.reset())})}}):this._DatospersonalesService.mensajeError("Formulario Incompleto")}buscarHijo(){if(this.formIdentidad.valid)if(this.formIdentidad.value.identidad===this.objetoConsultado.identidad)this._DatospersonalesService.mensajeError("Identidad Consultada igual a la identidad del Hijo");else if(this.arregloHijos===void 0){var e={identidad_pariente:this.formIdentidad.value.identidad};this._DatospersonalesService.sacarPersonalIdentidad(e).subscribe(i=>{if(i.error)this._DatospersonalesService.mensajeError(i.error.sqlMessage);else if(i.mensaje)this._DatospersonalesService.mensajeError(i.mensaje),this.banderapariente=1;else{this.parienteConsultado=i.resultado[0];var r={idpadre:this.objetoConsultado.identidad,idhijo:this.formIdentidad.value.identidad};this._DatospersonalesService.guardarhijo(r).subscribe(l=>{l.error?this._DatospersonalesService.mensajeError(l.error):l.mensaje?this._DatospersonalesService.mensajeError(l.mensaje):(this._DatospersonalesService.mensajeBueno("Guardado con exito"),this.formulariopariente.reset(),this.sacarpadres())})}})}else if(this.arregloHijos.length>=30)this._DatospersonalesService.mensajeError("Ya Cuenta con sus dos padres");else{var e={identidad_pariente:this.formIdentidad.value.identidad};this._DatospersonalesService.sacarPersonalIdentidad(e).subscribe(r=>{if(r.error)this._DatospersonalesService.mensajeError(r.error.sqlMessage);else if(r.mensaje)this._DatospersonalesService.mensajeError(r.mensaje),this.banderapariente=1;else{this.parienteConsultado=r.resultado[0];var l={idpadre:this.objetoConsultado.identidad,idhijo:this.formIdentidad.value.identidad};this._DatospersonalesService.guardarhijo(l).subscribe(c=>{c.error?this._DatospersonalesService.mensajeError(c.error):c.mensaje?this._DatospersonalesService.mensajeError(c.mensaje):(this._DatospersonalesService.mensajeBueno("Guardado con exito"),this.formulariopariente.reset(),this.sacarpadres())})}})}else this._DatospersonalesService.mensajeError("Formato Invalido en la identidad")}guardarHijo(){this.formulariopariente.value.combatiente=0,this.formulariopariente.value.identidad=this.formIdentidad.value.identidad,this.formulariopariente.valid?this._DatospersonalesService.guardarPerientes(this.formulariopariente.value).subscribe(e=>{if(e.error)this._DatospersonalesService.mensajeError(e.error);else if(e.mensaje)this._DatospersonalesService.mensajeError(e.mensaje);else{var i={idpadre:this.objetoConsultado.identidad,idhijo:this.formulariopariente.value.identidad};this._DatospersonalesService.guardarhijo(i).subscribe(r=>{r.error?this._DatospersonalesService.mensajeError(r.error):r.mensaje?this._DatospersonalesService.mensajeError(r.mensaje):(this._DatospersonalesService.mensajeBueno("Guardado con exito"),this.sacarpadres(),this.formulariopariente.reset())})}}):this._DatospersonalesService.mensajeError("Formulario Incompleto")}agregarPaises(){if(this.paisSelected===void 0)this._DatospersonalesService.mensajeError("Seleccione el Idioma");else{var e={idpersonal:this.objetoConsultado.identidad,idpais:this.paisSelected.idpaises};this._DatospersonalesService.guardarpaisdelpersonal(e).subscribe(i=>{i.error?this._DatospersonalesService.mensajeError(i.error):i.mensaje?this._DatospersonalesService.mensajeError(i.mensaje):(this.arregloMisPaises=i.resultado,this.sacarMisPaises())})}}agrgarIdioma(){this.idiomaSelected.idpersonal=this.objetoConsultado.identidad,this.idiomaSelected.nivel<1||this.idiomaSelected.nivel>100||this.idiomaSelected.idmisidiomas===""||this.idiomaSelected.idpersonal===""?this._DatospersonalesService.mensajeError("No cumple con el formato | selecione el idioma | nivel > 0 y <=100"):this._DatospersonalesService.guardaridiomadelpersonal(this.idiomaSelected).subscribe(e=>{e.error?this._DatospersonalesService.mensajeError(e.error):e.mensaje?this._DatospersonalesService.mensajeError(e.mensaje):(this._DatospersonalesService.mensajeBueno("Agregado con exito"),this.sacarmisidiomas())})}guardarAresto(){this.formularioAresto.value.identidad=this.consulta.identidad,this.formularioAresto.valid?this._DatospersonalesService.guardarAresto(this.formularioAresto.value).subscribe(e=>{e.error?this._DatospersonalesService.mensajeError(e.error.sqlMessage):e.mensaje?this._DatospersonalesService.mensajeError(e.mensaje):(this._DatospersonalesService.mensajeBueno("Excelente"),this.sacarArestosdelPersonal())}):(this.noesvalido=!0,this._DatospersonalesService.mensajeError("Rellene los Campos"))}buscarPersonaParaOrdenarAresto(){var e={identidad_pariente:this.formularioAresto.value.identidadAcusador};this._DatospersonalesService.sacarPersonalIdentidad(e).subscribe(i=>{i.error?this._DatospersonalesService.mensajeError(i.error.sqlMessage):i.mensaje?this._DatospersonalesService.mensajeError(i.mensaje):this.personaQueAreasta=i.resultado[0]})}guardardocumentoDElArresto(){this.makeFileReques(this._DatospersonalesService.url2+"subirdocumentosArresto/"+this.idarrestoSelected,[],this.FilesToUploads).then(e=>{this.imgURL="",e.error?this._DatospersonalesService.mensajeError(e.error):e.mesaje?this._DatospersonalesService.mensajeError(e.mensaje):(this._DatospersonalesService.mensajeBueno(e.resultado),this.sacarArestosdelPersonal())})}EliminarArresto(e){v.default.fire({title:"<strong>ELIMINAR</strong>",html:"Esta Apunto de Eliminar el Arresto de esta Persona.<b>\xBFEsta usted seguro de ejecutar esta funci\xF3n?</b>, ",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Eliminar",cancelButtonText:"No Eliminar"}).then(i=>{if(i.isConfirmed){var r={identidadElaboradopor:e.identidad,identidad:this.objetoConsultado.identidad,fechaArresto:e.fecha,hora:e.horas,identidadEjecutora:this.usuarioLoguiado.identidad,concepto:"Se elimino el arresto de :"+this.objetoConsultado.identidad+", Nombre: "+this.objetoConsultado.nombres+" "+this.objetoConsultado.apellidos+", Concepto: "+e.motivo+"; Fecha Arresto; "+e.fecha+"; Horas:"+e.horas+"; orden de: ID "+e.identidad+" "+e.nombres+" "+e.apellidos};this.deleteDocumentoArresto(e.idarrestos,e.archivo),this._DatospersonalesService.eliminarArresto(r).subscribe(l=>{l.error?this._DatospersonalesService.mensajeError(l.error):l.mensaje?this._DatospersonalesService.mensajeBueno(l.mensaje):(this._DatospersonalesService.mensajeBueno(l.resultado),this.sacarArestosdelPersonal())},l=>{this._DatospersonalesService.mensajeError("ERROR DE CONECCION AL SERVIDOR AL TRATAR DE ELIMINAR")})}else v.default.fire("CANCELADO","ACCION CANCELADA","error")})}reasignar(){if(this.objetoConsultado.codigo!=="TRO")if(this.unidadSelected===void 0||this.fechaSelected===void 0||this.fuerzaSelected===void 0)this._DatospersonalesService.mensajeError("RELLENE TODO LOS CAMPOS");else{var e=!1;if(this.arregloAsignaciones.forEach(c=>{c.fecha_asignacion.split("T")[0]===this.fechaSelected&&(e=!0)}),e)v.default.fire("Control del Sistema","No puede haber Dos Asignaciones en la misma fecha","question");else{var i={identidad:this.objetoConsultado.identidad,idunidad:this.unidadSelected.idunidad,fecha_asignacion:this.fechaSelected,idfuerzaActual:this.objetoConsultado.idfuerza,idfueraAmover:this.fuerzaSelected.idfuerza,nivel:this.objetoConsultado.nivel,idelaborado:this.usuarioLoguiado.identidad};this.esperar=!this.esperar,this._DatospersonalesService.reasignarOficialesAuxSub(i).subscribe(c=>{this.esperar=!this.esperar,c.error?this._DatospersonalesService.mensajeError(c.error):(this._DatospersonalesService.mensajeBueno(c.mensaje),this.sacarAsignacionesPersonal())},c=>{this.esperar=!this.esperar,this._DatospersonalesService.mensajeError("Error de Conecci\xF3n")})}}else if(this.unidadSelected===void 0||this.fechaSelected===void 0||this.fuerzaSelected===void 0)this._DatospersonalesService.mensajeError("RELLENE TODO LOS CAMPOS");else{var e=!1;if(this.arregloAsignaciones.forEach(w=>{w.fecha_asignacion.split("T")[0]===this.fechaSelected&&(e=!0)}),e)v.default.fire("Control del Sistema","No puede haber Dos Asignaciones en la misma fecha","question");else{var r;if(this.arregloAsignaciones.forEach(w=>{w.actual===1&&(r=w)}),r===void 0)var l={identidad:this.objetoConsultado.identidad,idunidad:this.unidadSelected.idunidad,fecha_asignacion:this.fechaSelected,idfuerzaActual:this.objetoConsultado.idfuerza,idfueraAmover:this.fuerzaSelected.idfuerza,nivel:this.objetoConsultado.nivel,idelaborado:this.usuarioLoguiado.identidad};else var l={identidad:this.objetoConsultado.identidad,idunidad:this.unidadSelected.idunidad,fecha_asignacion:this.fechaSelected,idfuerzaActual:r.idfuerza,idfueraAmover:this.fuerzaSelected.idfuerza,nivel:this.objetoConsultado.nivel,idelaborado:this.usuarioLoguiado.identidad};this.esperar=!this.esperar,this._DatospersonalesService.asignarpersonalaUnidad(l).subscribe(w=>{this.esperar=!this.esperar,w.error?this._DatospersonalesService.mensajeError(w.error.sqlMessage):(this._DatospersonalesService.mensajeBueno("Usuario Asignado Con exito"),this.sacarAsignacionesPersonal())},w=>{this.esperar=!this.esperar,this._DatospersonalesService.mensajeError("Error de Conecci\xF3n")})}}}guardarDocumentoTexto(){if(this.banderaEspiner=1,this.nombreDocumento===void 0||this.FilesToUploads===void 0)v.default.fire("Rellene los campos"),this.banderaEspiner=0;else{var e={nombre:this.nombreDocumento,dir:"ninguno.PNG",idcarpeta:this.idcarpetaSegundaria};this._DatospersonalesService.guardarDocumento(e).subscribe(i=>{i.error?(this._DatospersonalesService.mensajeError(i.error),this.banderaEspiner=0):i.mensaje?(this._DatospersonalesService.mensajeError(i.mensaje),this.banderaEspiner=0):i.resultado&&this.guardardocumento(i.resultado.insertId)})}}guardardocumento(e){var i=this._DatospersonalesService.url2+"subirdocumentos/"+e;this.makeFileReques(i,[],this.FilesToUploads).then(r=>{this.imgURL="",r.error?(this._DatospersonalesService.mensajeError(r.error),this.banderaEspiner=0):r.mesaje?(this._DatospersonalesService.mensajeError(r.mensaje),this.banderaEspiner=0):(this._DatospersonalesService.mensajeBueno(r.resultado),this.banderaEspiner=0,this.buscardocumentos(this.idcarpetaSegundaria))},r=>{alert("OCURRIO UN ERROR AL TRATAR DE SUBIR EL ARCHIVO CON IDENTIFICADOR: "+e),this.eliminar(e,"ninguno.PNG"),this.banderaEspiner=0})}guardarAsignacionDireccion(){if(this.fechaSelected===""||this.fechaSelected===void 0||this.direccionSelected===void 0)this._DatospersonalesService.mensajeError("RELLENE LOS CAMPOS");else{var e={identidad:this.objetoConsultado.identidad,identidadEjecutora:this.usuarioLoguiado.identidad,idNombramiento:this.direccionSelected.idNombramiento,idgrado:this.objetoConsultado.grado,direccion:this.direccionSelected.descripcion,fechaAsignacion:this.fechaSelected,fechaSalida:this.fechaSelected,unidad:this.unidadSelected};this._DatospersonalesService.agregarAsignacionDireccion(e).subscribe(i=>{i.error?this._DatospersonalesService.mensajeError(i.error):i.mensaje?this._DatospersonalesService.mensajeError(i.mensaje):(this.sacarDireccionDeAsignado(),this.fechaSelected="",this._DatospersonalesService.mensajeBueno(i.resultado))},i=>{this._DatospersonalesService.mensajeError("ERROR CONEXION AL INGRESAR ASIGNACION (DIRECCION | ASIGNACION)")})}}sacarDireccionDeAsignado(){this.arreglosDeMisAsignacionesDirecciones=new Array;var e={identidad:this.objetoConsultado.identidad};this._DatospersonalesService.sacarDireccionDeAsignado(e).subscribe(i=>{this.arreglosDeMisAsignacionesDirecciones=i.resultado},i=>{this._DatospersonalesService.mensajeError("ERROR CONEXION AL INGRESAR ASIGNACION (DIRECCION | ASIGNACION)")})}guardarCargo(){if(this.puestoSelected===void 0||this.fechaSelected===void 0||this.objetoConsultado.identidad===void 0||this.numeroAcuerdo===void 0||this.usuarioLoguiado.identidad===void 0||this.objetoConsultado===void 0)this._DatospersonalesService.mensajeError("HAY CAMPOS NO SELECCIONADOS");else{var e={idPuesto:this.puestoSelected.idPuesto,fechaInicio:this.fechaSelected,identidad:this.objetoConsultado.identidad,fechaFin:"null",acuerdo:this.numeroAcuerdo,elaborado_por:this.usuarioLoguiado.identidad,idgrado:this.objetoConsultado.grado};this._DatospersonalesService.agregarPersonaenOrganizacion(e).subscribe(i=>{i.error?this._DatospersonalesService.mensajeError(i.error):i.mensaje?this._DatospersonalesService.mensajeError(i.mensaje):(this._DatospersonalesService.mensajeBueno(i.resultado),this.sacsarcargodelapersona())})}}desactivarAsignacionDireccion(e){v.default.fire({title:"Esta Seguro",text:"Esta apunto de desactivar la asignacion",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"SI",cancelButtonText:"NO"}).then(i=>{if(i.isConfirmed){var r={identidad:this.objetoConsultado.identidad,identidadEjecutora:this.usuarioLoguiado.identidad,direccion:e.descripcion,unidad:e.unidad};this._DatospersonalesService.desactivarAsignacionDireccion(r).subscribe(l=>{l.error?this._DatospersonalesService.mensajeError(l.error):l.mensaje?this._DatospersonalesService.mensajeError(l.mensaje):(this.sacarDireccionDeAsignado(),this._DatospersonalesService.mensajeBueno(l.resultado))},l=>{this._DatospersonalesService.mensajeError("ERROR DE CONECCION AL DESACTIVAR LA DIRECCION")})}else v.default.fire("Cancelado!","","success")})}sacarasignaciondireccionActual(e){var i={identidad:this.objetoConsultado.identidad};this._DatospersonalesService.sacarDireccionAsignadoActual(i).subscribe(r=>{r.error?this._DatospersonalesService.mensajeError(r.error):r.mensaje?this.seccionselected=r:(this.seccionselected=r.resultado[0],this.sacarpuestos())},r=>{this._DatospersonalesService.mensajeError("ERROR DE CONECCION AL SACAR ASIGNACION DE DIRECCION")})}CambioIdentidadPErsonalAdmin(){return O(this,null,function*(){var e=yield this._DatospersonalesService.mensajePregunta("Cambio de Identidad","Esta seguro de Remplazar la Identidad");if(e)if(this.formIdentidad.valid)if(this.objetoConsultado.identidad===this.usuarioLoguiado.identidad)this._DatospersonalesService.mensajeError("USTED MISMO NO SE PUEDE CAMBIAR LA IDENTIDAD");else if(this.objetoConsultado.identidad===void 0||this.usuarioLoguiado.identidad===void 0)this._DatospersonalesService.mensajeError("ERROR EN IDENTIDAD VIEJA O IDENTIDAD DE USUARIO LOGIADO");else{var i={identidadNueva:this.formIdentidad.value.identidad,identidadVieja:this.objetoConsultado.identidad,identidadEjecutora:this.usuarioLoguiado.identidad};this._DatospersonalesService.cambioIdentidad(i).subscribe(r=>{r.error?this._DatospersonalesService.mensajeError(r.error):r.mensaje?this._DatospersonalesService.mensajeError(r.mensaje):(this._DatospersonalesService.mensajeBueno(r.resultado),this.consulta.identidad="",this.formIdentidad.reset(),this.desplegar=2,this.SegundaVentana=0)},r=>{this._DatospersonalesService.mensajeError("ERROR DE CONECCION AL MOMENTO DE CAMBIAR LA IDENTIDAD"),this._Router.navigate(["bienvenida"])})}else this._DatospersonalesService.mensajeError("LA IDENTIDAD NUEVA NO CUENTA CON EL FORMATO");this.formIdentidad.reset()})}buscarCupos(){this.desplegar=4,this.sacarcuposdeUnidad()}sacarcuposdeUnidad(){var e={idunidad:this.unidadSelected.idunidad,activo:1};this.arregloCupos=new Array,this._DatospersonalesService.sacarcoposhabilitados(e).subscribe(i=>{i.error?this._DatospersonalesService.mensajeError(i.error):i.mensaje?this._DatospersonalesService.mensajeError(i.mensaje):this.arregloCupos=i.resultado},i=>{this._DatospersonalesService.mensajeError("ERROR DE CONEXION")})}desactivarCupos(e){var i={idgrado:e.idgrado,idunidad:e.idunidad,activo:e.activo===0?1:0,usuario:this.usuarioLoguiado};this._DatospersonalesService.desactivarCupos(i).subscribe(r=>{r.error?this._DatospersonalesService.mensajeError(r.error):r.mensaje?this._DatospersonalesService.mensajeError(r.mensaje):this.sacarcuposdeUnidad()},r=>{this._DatospersonalesService.mensajeError("ERRRO DE CONEXION")})}selecionarTarjeta(e){this.cupos.reset(),this.objetoSelecionado=e}guardarCuponuevo(){if(this.cupos.valid){var e={idunidad:this.objetoSelecionado.idunidad,idgrado:this.objetoSelecionado.idgrado,autorizado:this.cupos.value.numero,usuario:this.usuarioLoguiado,copoAnterior:this.objetoSelecionado.autorizado,nombreUnidad:this.objetoSelecionado.unidad,gradoNombre:this.objetoSelecionado.nombre_grado};this._DatospersonalesService.modificarcupo(e).subscribe(i=>{i.error?this._DatospersonalesService.mensajeError(i.error):i.mensaje?this._DatospersonalesService.mensajeError(i.mensaje):(this.cupos.reset(),this.sacarcuposdeUnidad())},i=>{this._DatospersonalesService.mensajeError("ERROR DE CONEXION")})}else this._DatospersonalesService.mensajeError("Solo numero  debe de ingresar.")}guardarCambioCombatiente(e){var i={idunidad:e.idunidad,idgrado:e.idgrado,combatiente:e.combatiente===0?1:0,usuario:this.usuarioLoguiado,unidadnombre:e.unidad,gradoNombre:e.nombre_grado};this._DatospersonalesService.modificarSiesCombatiente(i).subscribe(r=>{r.error?this._DatospersonalesService.mensajeError(r.error):r.mensaje?this._DatospersonalesService.mensajeError(r.mensaje):(i={idunidad:"",idgrado:"",combatiente:0,usuario:"",unidadnombre:"",gradoNombre:e.nombre_grado},this.sacarcuposdeUnidad())},r=>{this._DatospersonalesService.mensajeError("ERROR DE CONEXION")})}buscarGRados(){var e={idfuerza:this.fuerzaSelected.idfuerza,idgradoOrden:this.ordencategoriaSelected.idControl_Grado};this._DatospersonalesService.sacarGradosSegunOrden(e).subscribe(i=>{i.error?this._DatospersonalesService.mensajeError(i.error):i.mensaje?this._DatospersonalesService.mensajeError(i.mensaje):this.arreglosRam=i.resultado},i=>{this._DatospersonalesService.mensajeError("ERROR DE CONEXION")})}GuardarCupos(e){if(e.valid){var i;this.fuerzaSelected.idfuerza===2?i=2:this.fuerzaSelected.idfuerza===3?i=3:this.fuerzaSelected.idfuerza===4?i=4:i=3;var r={idfuerza:i,idunidad:this.unidadSelected.idunidad,autorizado:this.agregarNuevoCupo.cantidadAutorizada,ocupados:0,combatiente:this.agregarNuevoCupo.combatiente,activo:1,idgrado:this.objetoSelecionado.idgrado,toe_autorizada:0,idcategoria:this.objetoSelecionado.idcategoria,fechaIngreso:this.agregarNuevoCupo.fechaIngreso,usuario:this.usuarioLoguiado,nombreunidad:this.unidadSelected.unidad,nombreGrado:this.objetoSelecionado.nombre_grado,ue:e.value.ordencategoriaSelected.idControl_Grado===7||e.value.ordencategoriaSelected.idControl_Grado===8?e.value.ue:{idunidad_ejecutora:0}};this._DatospersonalesService.agregarnuevoscupos(r).subscribe(l=>{l.error?this._DatospersonalesService.mensajeError(l.error):l.mensaje?this._DatospersonalesService.mensajeError(l.mensjae):(this._DatospersonalesService.mensajeBueno(l.resultado),this.sacarcuposdeUnidad())},l=>{this._DatospersonalesService.mensajeError("ERROR DE CONEXION")})}else this._DatospersonalesService.mensajeError("FORMULARIO INVALIDO")}eliminarTarjetaIngreso(e){return O(this,null,function*(){var i=yield this._DatospersonalesService.mensajePregunta("Eliminar","Esta seguro de eliminar esta tarjeta");if(i){var r={idunidad:e.idunidad,idgrado:e.idgrado,nombreunidad:e.unidad,nombreGrado:e.nombre_grado+" | "+e.equivalente,usuario:this.usuarioLoguiado};this._DatospersonalesService.EliminarTarjetadeIngreso(r).subscribe(l=>{l.error?this._DatospersonalesService.mensajeError(l.error):l.mensaje?this._DatospersonalesService.mensajeError(l.mensaje):(this._DatospersonalesService.mensajeBueno(l.resultado),this.sacarcuposdeUnidad())},l=>{this._DatospersonalesService.mensajeError("ERROR DE CONEXION")})}})}verificarPermiso(e){return this._DatospersonalesService.verificarPermisos(e)}cambiarnombreCarpetaPrincipal(e){v.default.fire({title:"Nuevo Nombre",input:"text",inputAttributes:{autocapitalize:"off"},showCancelButton:!0,confirmButtonText:"Cambiar",cancelButtonText:"Cancelar",showLoaderOnConfirm:!0,preConfirm:i=>{if(i!==""){var r={idcarpetaPrincipal:e.idcarpetaPrincipal,nombrecarpeta:i};this.esperar=!this.esperar,this._DatospersonalesService.cambiarnombreCarpetaPrincipal(r).subscribe(l=>(l.error?this._DatospersonalesService.mensajeError(l.error):l.mensaje?this._DatospersonalesService.mensajeError(l.mensaje):(this._DatospersonalesService.mensajeBueno(l.resultado),this.archivoPrincipal()),this.esperar=!this.esperar,i),l=>(this._DatospersonalesService.mensajeError("Error de Conexion"),this.esperar=!this.esperar,i))}},allowOutsideClick:()=>!v.default.isLoading()}).then(i=>{i.isConfirmed})}cambiarnombreCarpetaSegundaria(e){v.default.fire({title:"Nuevo Nombre",input:"text",inputAttributes:{autocapitalize:"off"},showCancelButton:!0,confirmButtonText:"Cambiar",cancelButtonText:"Cancelar",showLoaderOnConfirm:!0,preConfirm:i=>{if(i!==""){var r={idcarpetasegundaria:e.idcarpetasegundaria,Nombre:i};this.esperar=!this.esperar,this._DatospersonalesService.cambiarnombreCarpetaSegundaria(r).subscribe(l=>(l.error?this._DatospersonalesService.mensajeError(l.error):l.mensaje?this._DatospersonalesService.mensajeError(l.mensaje):(this._DatospersonalesService.mensajeBueno(l.resultado),this.buscarSegundacarpeta(this.idcarpetaPrincipal)),this.esperar=!this.esperar,i),l=>(this._DatospersonalesService.mensajeError("Error de Conexion"),this.esperar=!this.esperar,i))}},allowOutsideClick:()=>!v.default.isLoading()}).then(i=>{i.isConfirmed})}puestoseleccionado(e){this.puestoSeleccionado=e}cambiarNombrePuesto(e,i){return O(this,null,function*(){if(yield this._DatospersonalesService.mensajePregunta("Alto","Esta seguro de cambiar el nombre")){let l={nombre:e.nombre,idPuesto:this.puestoSeleccionado.idPuesto};this.esperar=!this.esperar,this._DatospersonalesService.actualizarNombrePuesto(l).subscribe(c=>{if(this.esperar=!this.esperar,c.error)return this._DatospersonalesService.mensajeError(c.error);if(c.mensaje)return this._DatospersonalesService.mensajeError(c.mensaje);this._DatospersonalesService.mensajeBueno(c.resultado),this.sacarPuestos_delNombramiento(this.nombramientoSelected),this.formIdentidad.reset()},c=>{this._DatospersonalesService.mensajeError("Error de Conexion"),this.esperar=!this.esperar})}})}abrirModalCambiarFoto(){this.displayCambiarFoto=!0}abrirModalCambiarIdentidad(){this.displayCambiarIdentidad=!0}abrirModalCuentaBanco(){this.displayCuentaBanco=!0}abrirModalArma(){this.displayArma=!0}abrirModalFechaIngreso(){this.displayFechaIngreso=!0}abrirModalFechaNacimiento(){this.displayFechaNacimiento=!0}abrirModalLugarNacimiento(){this.displayLugarNacimiento=!0}abrirModalModificarAscenso(){this.displayModificarAscenso=!0}abrirModalEliminarAscenso(){this.displayEliminarAscenso=!0}};u.\u0275fac=function(i){return new(i||u)(T(K),T(ee),T($),T(R))},u.\u0275cmp=U({type:u,selectors:[["app-modificar-perfil"]],decls:34,vars:60,consts:[["formulariobusquedaId","ngForm"],["falso",""],["file",""],[1,"container","h-100"],[1,"container-fluid","py-3"],[3,"visibleChange","visible","modal","closable","dismissableMask","contentStyle"],["pTemplate","header"],["pTemplate","content"],["pTemplate","footer"],[3,"visibleChange","visible","modal","closable","dismissableMask"],[1,"row","justify-content-center","h-100"],[1,"col-md-8","align-self-center",2,"margin-top","100px"],[1,"card","shadow-sm","border-0","rounded-3"],[1,"card-body","p-4"],[1,"text-center","mb-4","fw-bold"],[1,"row","g-3",3,"submit"],[1,"col-md-6"],[1,"form-label","fw-semibold"],["type","text","name","identidad","maxlength","13","minlength","13","pattern","^[0-9]*$","required","",1,"form-control",3,"ngModelChange","ngModel"],["class","form-text text-danger",4,"ngIf"],[1,"col-md-3"],["type","submit",1,"btn","btn-success","w-100",3,"disabled"],[1,"pi","pi-search"],["class","col-md-3",4,"ngIf"],[1,"form-text","text-danger"],[1,"d-flex","align-items-center","justify-content-center","w-100"],["role","status",1,"spinner-border"],["class","container-fluid py-3",4,"ngIf"],[1,"card","shadow-lg","border-0","rounded-4"],[1,"card-body","pb-3"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],["title","Regresar",1,"btn","btn-outline-success","d-flex","align-items-center","gap-2",3,"click"],["aria-hidden","true",1,"pi","pi-angle-double-left"],[1,"row","g-3"],[1,"col-lg-3","col-md-4"],[1,"card","border-0","shadow-sm","rounded-4","h-100"],[1,"card-body","p-2","d-flex","justify-content-center","align-items-center"],["alt","Foto de la persona","class","img-fluid rounded-4 shadow-sm","style","border: 4px solid #0e0d0d; max-height: 380px; object-fit: cover; width: 100%;",3,"src",4,"ngIf","ngIfElse"],[1,"col-lg-9","col-md-8"],[1,"card-header","bg-white","border-0"],[1,"mb-0"],[1,"card-body","pt-2"],[1,"row","g-2"],[1,"col-md-4"],[1,"p-2","bg-light","rounded-3","shadow-sm","d-flex","justify-content-between","align-items-center",2,"cursor","pointer",3,"click"],[1,"text-muted","small"],[1,"ms-2","text-end"],[1,"p-2","bg-light","rounded-3","shadow-sm","d-flex","justify-content-between","align-items-center"],[4,"ngIf"],["class","col-md-4",4,"ngIf"],[1,"mt-4"],[1,"card","card-primary","border-0","shadow-sm","rounded-4"],[1,"card-header","bg-white","border-0","d-flex","justify-content-between","align-items-center"],["id","custom-tabs-one-tab","role","tablist",1,"nav","nav-tabs","border-0"],[1,"nav-item"],["id","custom-tabs-one-ascenso-tab","data-toggle","pill","role","tab","aria-controls","custom-tabs-one-ascenso","aria-selected","true",1,"nav-link","active"],[1,"table-responsive",2,"max-height","320px","overflow-y","auto"],[1,"table","table-sm","table-hover","align-middle","table-bordered","mb-0"],[1,"table-primary"],[2,"width","40px"],[2,"width","130px"],[4,"ngFor","ngForOf"],[1,"table-light"],["colspan","7"],["alt","Foto de la persona",1,"img-fluid","rounded-4","shadow-sm",2,"border","4px solid #0e0d0d","max-height","380px","object-fit","cover","width","100%",3,"src"],["src","../../../assets/fotoperfil.png","alt","Foto de perfil",1,"img-fluid","rounded-4","shadow-sm",2,"border","4px solid #0e0d0d","max-height","380px","object-fit","cover","width","100%"],[1,"p-2","rounded-3","shadow-sm","d-flex","justify-content-between","align-items-center","text-white",2,"background-color","rgb(255, 44, 7)"],[1,"text-white-50","small"],[1,"p-2","rounded-3","shadow-sm","d-flex","justify-content-between","align-items-center","text-white",2,"background-color","rgb(56, 184, 243)"],[1,"p-2","rounded-3","shadow-sm","d-flex","justify-content-between","align-items-center","text-white",2,"background-color","rgb(23, 253, 92)"],[1,"",2,"color","black"],[2,"color","black"],["style","color: black;","class","badge badge-success",4,"ngIf"],["style","color: red;","class","badge badge-secondary",4,"ngIf"],["role","group",1,"btn-group","btn-group-sm"],["title","Modificar esta fila",1,"btn","btn-outline-success",3,"click"],[1,"pi","pi-prime"],["title","Eliminar esta fila",1,"btn","btn-outline-danger",2,"margin-left","5px",3,"click"],[1,"pi","pi-trash"],[1,"badge","badge-success",2,"color","black"],[1,"badge","badge-secondary",2,"color","red"],[1,"col-sm-12","align-self-center","text-center",2,"width","500px","height","600px","margin","0 auto"],[1,"card","shadow",2,"width","500px","height","600px"],[1,"card-body",2,"width","500px","height","600px"],["class","card-img-top img-thumbnail img-fluid","alt","Vista previa","width","304","height","236",3,"src",4,"ngIf"],[1,"card-body"],["type","file","accept","image/*",1,"btn","btn-primary",3,"change"],["class","btn btn-success","style","margin-right: 5px;",3,"click",4,"ngIf"],["alt","Vista previa","width","304","height","236",1,"card-img-top","img-thumbnail","img-fluid",3,"src"],[1,"btn","btn-success",2,"margin-right","5px",3,"click"],["type","button",1,"btn","btn-default",3,"click"],[1,"m-0"],[1,"form-control"],["name","fechanuevadeNacimiento","type","date",1,"form-control","mt-2",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],["name","armaselected",1,"form-control","mt-2",3,"ngModelChange","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"],[1,"row",3,"formGroup"],[1,"col-md-12"],["formControlName","cuenta","type","number","required","",1,"form-control","mt-2"],["type","button","aria-placeholder","top","title","Guardar el n\xFAmero de cuenta nuevo",1,"btn","btn-primary",3,"click"],["formControlName","identidad","type","text","required","",1,"form-control","mt-2"],["type","button","aria-placeholder","top","title","Guardar el n\xFAmero de identidad nuevo",1,"btn","btn-primary",3,"click"],["name","actualizarfechaIngreso","type","date",1,"form-control","mt-2",3,"ngModelChange","ngModel"],["name","FechaPrimerIngreso","type","date",1,"form-control","mt-2",3,"ngModelChange","ngModel"],[1,"col-md-12","mt-3"],["name","fecha","type","date",1,"form-control","mt-2",3,"ngModelChange","ngModel"],["name","numeroAcuerdo","type","text",1,"form-control","mt-2",3,"ngModelChange","ngModel"],[1,"m-0","text-danger"],["name","gradoqueVaQuedar",1,"form-control","mt-2",3,"ngModelChange","ngModel"],["name","gradoaeliminar",1,"form-control","mt-2",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(i,r){i&1&&(V(0,ye,20,4,"div",3),V(1,He,1,1,"div",4),a(2,"p-dialog",5),x("visibleChange",function(c){return D(r.displayCambiarFoto,c)||(r.displayCambiarFoto=c),c}),g(3,Xe,2,0,"ng-template",6)(4,Ze,9,2,"ng-template",7)(5,Je,2,0,"ng-template",8),s(),a(6,"p-dialog",9),x("visibleChange",function(c){return D(r.displayFechaNacimiento,c)||(r.displayFechaNacimiento=c),c}),g(7,Ke,2,0,"ng-template",6)(8,$e,4,1,"ng-template",7)(9,Re,4,0,"ng-template",8),s(),a(10,"p-dialog",9),x("visibleChange",function(c){return D(r.displayArma,c)||(r.displayArma=c),c}),g(11,ei,2,0,"ng-template",6)(12,ci,5,5,"ng-template",7)(13,mi,4,0,"ng-template",8),s(),a(14,"p-dialog",9),x("visibleChange",function(c){return D(r.displayCuentaBanco,c)||(r.displayCuentaBanco=c),c}),g(15,ui,2,0,"ng-template",6)(16,pi,4,1,"ng-template",7)(17,hi,4,0,"ng-template",8),s(),a(18,"p-dialog",9),x("visibleChange",function(c){return D(r.displayCambiarIdentidad,c)||(r.displayCambiarIdentidad=c),c}),g(19,_i,2,0,"ng-template",6)(20,fi,4,1,"ng-template",7)(21,vi,4,0,"ng-template",8),s(),a(22,"p-dialog",9),x("visibleChange",function(c){return D(r.displayFechaIngreso,c)||(r.displayFechaIngreso=c),c}),g(23,gi,2,0,"ng-template",6)(24,bi,4,1,"ng-template",7)(25,Si,4,0,"ng-template",8),s(),a(26,"p-dialog",9),x("visibleChange",function(c){return D(r.displayModificarAscenso,c)||(r.displayModificarAscenso=c),c}),g(27,Ci,2,0,"ng-template",6)(28,ji,10,3,"ng-template",7)(29,Ei,4,0,"ng-template",8),s(),a(30,"p-dialog",9),x("visibleChange",function(c){return D(r.displayEliminarAscenso,c)||(r.displayEliminarAscenso=c),c}),g(31,Di,2,0,"ng-template",6)(32,wi,9,4,"ng-template",7)(33,yi,4,0,"ng-template",8),s()),i&2&&(z(r.SegundaVentana===0?0:-1),d(),z(r.SegundaVentana===1?1:-1),d(),I(y(51,De)),E("visible",r.displayCambiarFoto),_("modal",!0)("closable",!0)("dismissableMask",!0)("contentStyle",y(52,xe)),d(4),I(y(53,L)),E("visible",r.displayFechaNacimiento),_("modal",!0)("closable",!0)("dismissableMask",!0),d(4),I(y(54,G)),E("visible",r.displayArma),_("modal",!0)("closable",!0)("dismissableMask",!0),d(4),I(y(55,L)),E("visible",r.displayCuentaBanco),_("modal",!0)("closable",!0)("dismissableMask",!0),d(4),I(y(56,L)),E("visible",r.displayCambiarIdentidad),_("modal",!0)("closable",!0)("dismissableMask",!0),d(4),I(y(57,L)),E("visible",r.displayFechaIngreso),_("modal",!0)("closable",!0)("dismissableMask",!0),d(4),I(y(58,G)),E("visible",r.displayModificarAscenso),_("modal",!0)("closable",!0)("dismissableMask",!0),d(4),I(y(59,G)),E("visible",r.displayEliminarAscenso),_("modal",!0)("closable",!0)("dismissableMask",!0))},dependencies:[J,Q,Y,ge,ne,ue,pe,re,le,me,te,ae,he,_e,fe,ve,se,oe,Ce,Se,ie,be,de,ce,Z],encapsulation:2});let o=u;return o})();export{Gi as ModificarPerfilComponent};
