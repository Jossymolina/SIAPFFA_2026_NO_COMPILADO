import{b as $,e as k,j as N,x as V}from"./chunk-ZPMKEMCQ.js";import{C as T,e as j,k as z,l as F,z as D}from"./chunk-FIATBDAH.js";import{Ca as l,Lb as n,Mb as c,Na as u,Nb as E,Qb as O,Rb as w,Sa as C,Sb as y,U as g,V as x,Ya as h,cc as L,db as _,eb as f,fc as I,gb as v,hb as S,ib as P,jb as e,kb as t,lb as d,sb as b,wb as M,xb as m}from"./chunk-XJSKPFVT.js";import"./chunk-OXVY4BEJ.js";var B=(o,s)=>s.identidad;function A(o,s){if(o&1&&(e(0,"span"),n(1," Total: "),e(2,"strong"),n(3),t(),n(4," registros "),t()),o&2){let i=m(2);l(3),c((i.arregloLista==null?null:i.arregloLista.length)||0)}}function W(o,s){if(o&1&&(e(0,"span"),n(1," Mostrando "),e(2,"strong"),n(3),t(),n(4," de "),e(5,"strong"),n(6),t(),n(7," registros "),t()),o&2){let i=m(2);l(3),c(i.listaFiltradaPxc().length),l(3),c(i.arregloLista==null?null:i.arregloLista.length)}}function U(o,s){if(o&1&&(e(0,"tr")(1,"td",25),n(2),t(),e(3,"td"),n(4),t(),e(5,"td"),n(6),t(),e(7,"td"),n(8),t(),e(9,"td"),n(10),t(),e(11,"td",25),n(12),t(),e(13,"td"),n(14),t(),e(15,"td",25),n(16),t(),e(17,"td",26),n(18),L(19,"currency"),t()()),o&2){let i=s.$implicit,r=s.$index;l(2),c(r+1),l(2),c(i.fuerza),l(2),c(i.unidad),l(2),c(i.descripcion),l(2),c(i.Nombre_Puesto),l(2),c(i.identidad),l(2),c(i.nombre),l(2),c(i.grado),l(2),E(" ",I(19,9,i.monto,"","").replace(",","_").replace(".",",").replace("_",".")," ")}}function q(o,s){o&1&&(e(0,"tr")(1,"td",27),d(2,"i",28),n(3," No hay registros que coincidan con el filtro. "),t()())}function G(o,s){if(o&1){let i=b();e(0,"div",0)(1,"div",2)(2,"h5",3),d(3,"i",4),n(4," Lista de personas con pagos por cargo "),t(),e(5,"button",5),M("click",function(){g(i);let a=m();return x(a.exportar("tabla_pxc"))}),d(6,"i",6),e(7,"span"),n(8,"Exportar"),t()()(),e(9,"div",7)(10,"div",8)(11,"div",9),d(12,"i",10),e(13,"div")(14,"div",11),n(15,"Importante"),t(),e(16,"ul",12)(17,"li"),n(18,"Para a\xF1adir a alguien a la tabla, debe agregar el cargo a la persona; la lista se actualizar\xE1 autom\xE1ticamente."),t(),e(19,"li"),n(20,"Cuando elimine el cargo de una persona, la lista se actualizar\xE1 autom\xE1ticamente."),t(),e(21,"li"),n(22,"Una vez la planilla generada y guardada en la SEDENA, los cambios ejecutados en la organizaci\xF3n de personal posteriores a dicha acci\xF3n no se reflejar\xE1n en la planilla guardada."),t(),e(23,"li"),n(24,"Por lo tanto, todas las actualizaciones deben realizarse en tiempo y forma."),t()()()()(),e(25,"div",13)(26,"div",14)(27,"div",15)(28,"span",16),d(29,"i",17),t(),e(30,"input",18),y("ngModelChange",function(a){g(i);let p=m();return w(p.filtroPxc,a)||(p.filtroPxc=a),x(a)}),t()()()(),e(31,"div",19)(32,"div",20),h(33,A,5,1,"span",21)(34,W,8,2,"span",21),t(),e(35,"table",22)(36,"thead")(37,"tr")(38,"th",23),n(39,"#"),t(),e(40,"th"),n(41,"Fuerza / Dependencia"),t(),e(42,"th"),n(43,"Unidad"),t(),e(44,"th"),n(45,"Direcci\xF3n / Secci\xF3n"),t(),e(46,"th"),n(47,"Puesto"),t(),e(48,"th"),n(49,"Identidad"),t(),e(50,"th"),n(51,"Persona"),t(),e(52,"th"),n(53,"Grado"),t(),e(54,"th",24),n(55,"Monto"),t()()(),e(56,"tbody"),v(57,U,20,13,"tr",null,B),_(59,q,4,0,"tr"),t()()()()()}if(o&2){let i=m();l(30),O("ngModel",i.filtroPxc),l(3),P("ngIf",!i.filtroPxc),l(),P("ngIf",i.filtroPxc),l(23),S(i.listaFiltradaPxc()),l(2),f(!i.arregloLista||i.listaFiltradaPxc().length===0?59:-1)}}function H(o,s){o&1&&(e(0,"div",1),n(1," Permisos no autorizados "),t())}var ee=(()=>{let s=class s{constructor(r,a){this._ServiciosMensajesService=r,this._DatospersonalesService=a,this.arregloLista=[],this.filtroPxc="",this.permisoPersonal=!1}ngOnInit(){this.sacarlistado(),this.sacarPermisoPersonal()}sacarlistado(){this.arregloLista=[],this._ServiciosMensajesService.show(),this._DatospersonalesService.sacarPersonas_pagos_gargo().subscribe({next:r=>{if(this._ServiciosMensajesService.hide(),r.error)return this._ServiciosMensajesService.mensajeMalo(r.error);if(r.mensaje)return this._ServiciosMensajesService.mensajeAdvertencia(r.mensaje);this.arregloLista=r.resultado},error:()=>{this._ServiciosMensajesService.hide(),this._ServiciosMensajesService.mensajeerrorServer()}})}exportar(r){this._DatospersonalesService.exportexcel2(r,"Exportado_siapffa_Pagos_cargo")}verificarPermiso(r){return this._DatospersonalesService.verificarPermisos(r)}listaFiltradaPxc(){if(!this.arregloLista)return[];let r=(this.filtroPxc||"").toLowerCase().trim();return r?this.arregloLista.filter(a=>`
        ${a.fuerza||""}
        ${a.unidad||""}
        ${a.descripcion||""}
        ${a.Nombre_Puesto||""}
        ${a.identidad||""}
        ${a.nombre||""}
        ${a.grado||""}
        ${a.monto||""}
      `.toLowerCase().includes(r)):this.arregloLista}sacarPermisoPersonal(){this.permisoPersonal=this._DatospersonalesService.verificarPermisos(["P_0001"])}};s.\u0275fac=function(a){return new(a||s)(u(D),u(T))},s.\u0275cmp=C({type:s,selectors:[["app-lista-personal-pagos-cargo"]],decls:2,vars:1,consts:[[1,"card","shadow-lg","border-0","rounded-4","mt-3"],[1,"alert","alert-danger","mt-3","mb-0"],[1,"card-header","bg-success","text-white","rounded-top-4","d-flex","justify-content-between","align-items-center","px-4"],[1,"mb-0","d-flex","align-items-center","gap-2"],[1,"pi","pi-list-check","me-2"],["pButton","","type","button",1,"p-button-sm","p-button-success","p-button-rounded","d-flex","align-items-center","gap-2",3,"click"],[1,"pi","pi-file-excel"],[1,"card-body","px-4","pb-4","pt-3"],[1,"alert","alert-warning","border-0","rounded-3","small","mb-3"],[1,"d-flex"],[1,"pi","pi-info-circle","me-2","mt-1"],[1,"fw-semibold","mb-1"],[1,"mb-0","ps-3"],[1,"row","justify-content-end","mb-3"],[1,"col-md-6","col-lg-4"],[1,"input-group","input-group-sm"],[1,"input-group-text"],[1,"pi","pi-search"],["type","text","placeholder","Buscar por fuerza, unidad, persona, grado...","name","filtroPxc",1,"form-control",3,"ngModelChange","ngModel"],[1,"tabla-wrapper"],[1,"mb-2","small","text-muted","d-flex","justify-content-between","px-1"],[4,"ngIf"],["id","tabla_pxc",1,"table","tabla-pagos-cargo","table-hover","align-middle","mb-0"],[1,"col-num"],[1,"col-monto"],[1,"text-center"],[1,"text-end"],["colspan","9",1,"text-center","text-muted","py-3"],[1,"pi","pi-info-circle","me-1"]],template:function(a,p){a&1&&_(0,G,60,4,"div",0)(1,H,2,0,"div",1),a&2&&f(p.permisoPersonal?0:1)},dependencies:[F,j,V,$,k,N,z],styles:[".tabla-wrapper[_ngcontent-%COMP%]{max-height:500px;overflow-y:auto;padding-right:4px}.tabla-pagos-cargo[_ngcontent-%COMP%]{width:100%;border-collapse:separate;border-spacing:0 6px!important}.tabla-pagos-cargo[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background:#f5f7fa!important;border-bottom:2px solid #e2e6ea}.tabla-pagos-cargo[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:.8rem;font-weight:700;color:#495057;text-transform:uppercase;padding:.45rem .55rem;text-align:center}.tabla-pagos-cargo[_ngcontent-%COMP%]   .col-num[_ngcontent-%COMP%]{width:50px}.tabla-pagos-cargo[_ngcontent-%COMP%]   .col-monto[_ngcontent-%COMP%]{width:110px}.tabla-pagos-cargo[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background:#fff;box-shadow:0 1px 3px #0000000d}.tabla-pagos-cargo[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.45rem .55rem;font-size:.86rem;border-top:none!important}.tabla-pagos-cargo[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#f9fbff}.tabla-pagos-cargo[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td.text-end[_ngcontent-%COMP%]{font-weight:500}.input-group-text[_ngcontent-%COMP%]   .pi[_ngcontent-%COMP%]{font-size:.8rem}.registros-total[_ngcontent-%COMP%]{font-size:.82rem;color:#6c757d}.registros-total[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#343a40}"]});let o=s;return o})();export{ee as ListaPersonalPagosCargoComponent};
